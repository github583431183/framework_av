{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "98e0287c_b95924be",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1108919
      },
      "writtenOn": "2023-01-31T14:51:24Z",
      "side": 1,
      "message": "misses granules when they straddle two chunks.\nwhich means this would now have incorrect semantics.",
      "revId": "c4a7d882dd2e01f313fa7ec1835df7ed75bdea48",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "812afb0a_109b694b",
        "filename": "media/module/extractors/ogg/OggExtractor.cpp",
        "patchSetId": 3
      },
      "lineNbr": 351,
      "author": {
        "id": 1108919
      },
      "writtenOn": "2023-01-31T14:51:24Z",
      "side": 1,
      "message": "i\u0027d rather set endOffset \u003d\u003d MAX_UINT64 in the case where length \u003d\u003d 0\nand this line be simplified to only a comparison between *pageOffset and endOffset",
      "range": {
        "startLine": 351,
        "startChar": 12,
        "endLine": 351,
        "endChar": 51
      },
      "revId": "c4a7d882dd2e01f313fa7ec1835df7ed75bdea48",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bde9c5df_f609b08c",
        "filename": "media/module/extractors/ogg/OggExtractor.cpp",
        "patchSetId": 3
      },
      "lineNbr": 351,
      "author": {
        "id": 1988269
      },
      "writtenOn": "2023-02-01T03:15:17Z",
      "side": 1,
      "message": "length \u003d\u003d 0 is just for the compatibility with original version,it means reading to the end of file,I\u0027d rather set default value as -1 if possible.\nI think only findPrevGranulePosition() need to give a non-zero value of length here for the efficiency of backing up, and it is only need to compare between *pageOffset and endOffset,which is meaning this backing-up turn has traversed the new bytes.",
      "parentUuid": "812afb0a_109b694b",
      "range": {
        "startLine": 351,
        "startChar": 12,
        "endLine": 351,
        "endChar": 51
      },
      "revId": "c4a7d882dd2e01f313fa7ec1835df7ed75bdea48",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "262925df_fd4c5949",
        "filename": "media/module/extractors/ogg/OggExtractor.cpp",
        "patchSetId": 3
      },
      "lineNbr": 351,
      "author": {
        "id": 1988269
      },
      "writtenOn": "2023-02-02T02:17:28Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "bde9c5df_f609b08c",
      "range": {
        "startLine": 351,
        "startChar": 12,
        "endLine": 351,
        "endChar": 51
      },
      "revId": "c4a7d882dd2e01f313fa7ec1835df7ed75bdea48",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "184b9a46_26f48249",
        "filename": "media/module/extractors/ogg/OggExtractor.cpp",
        "patchSetId": 3
      },
      "lineNbr": 355,
      "author": {
        "id": 1108919
      },
      "writtenOn": "2023-01-31T15:02:26Z",
      "side": 1,
      "message": "this is the slow piece.\n\nit\u0027s true that the original does an O(n^2) way of backing up, but this\nsmall read compounds the problem by making each of those attempts at backing\nup very expensive.\n\nreading a block of 4k or so here and doing the appropriate scanning through that buffer is likely to make this fast enough that the O(n^2) of the original\nwould not matter",
      "range": {
        "startLine": 355,
        "startChar": 20,
        "endLine": 355,
        "endChar": 64
      },
      "revId": "c4a7d882dd2e01f313fa7ec1835df7ed75bdea48",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4fd66009_fa188c9c",
        "filename": "media/module/extractors/ogg/OggExtractor.cpp",
        "patchSetId": 3
      },
      "lineNbr": 355,
      "author": {
        "id": 1988269
      },
      "writtenOn": "2023-02-03T03:17:10Z",
      "side": 1,
      "message": "I think this small read is acceptable,I test the ogg file in Bug#263074833,read 5000 bytes takes less than 1ms,if each bucking-up turn can read about 5000 bytes only,it will be faster.",
      "parentUuid": "184b9a46_26f48249",
      "range": {
        "startLine": 355,
        "startChar": 20,
        "endLine": 355,
        "endChar": 64
      },
      "revId": "c4a7d882dd2e01f313fa7ec1835df7ed75bdea48",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7dfe3b3a_ea93d989",
        "filename": "media/module/extractors/ogg/OggExtractor.cpp",
        "patchSetId": 3
      },
      "lineNbr": 378,
      "author": {
        "id": 1988269
      },
      "writtenOn": "2023-02-01T02:49:53Z",
      "side": 1,
      "message": "when the granule falls on the boundary between\ntwo of these 5000 byte chunks.,the \u0027O\u0027 will fall on the last 3 bytes of 5000,the offset is still in the range of (startOffset + 5000).",
      "range": {
        "startLine": 378,
        "startChar": 8,
        "endLine": 378,
        "endChar": 25
      },
      "revId": "c4a7d882dd2e01f313fa7ec1835df7ed75bdea48",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7560cefe_034e862f",
        "filename": "media/module/extractors/ogg/OggExtractor.cpp",
        "patchSetId": 3
      },
      "lineNbr": 378,
      "author": {
        "id": 1988269
      },
      "writtenOn": "2023-02-02T02:17:28Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7dfe3b3a_ea93d989",
      "range": {
        "startLine": 378,
        "startChar": 8,
        "endLine": 378,
        "endChar": 25
      },
      "revId": "c4a7d882dd2e01f313fa7ec1835df7ed75bdea48",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4a5d2530_1109a5e1",
        "filename": "media/module/extractors/ogg/OggExtractor.cpp",
        "patchSetId": 3
      },
      "lineNbr": 401,
      "author": {
        "id": 1108919
      },
      "writtenOn": "2023-01-31T14:51:24Z",
      "side": 1,
      "message": "this will now miss the granule when it falls on the boundary between\ntwo of these 5000 byte chunks.\n\nthe original would do a lot of scanning if the previous granule is way back in the file;  but it would find the position.\n\nthis version is faster (an o(n) instead of o(n^2) algorithm, but it will miss granules that appear in certain places in the input stream.",
      "range": {
        "startLine": 401,
        "startChar": 63,
        "endLine": 401,
        "endChar": 70
      },
      "revId": "c4a7d882dd2e01f313fa7ec1835df7ed75bdea48",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5cc9520a_49ba2ef3",
        "filename": "media/module/extractors/ogg/OggExtractor.cpp",
        "patchSetId": 3
      },
      "lineNbr": 401,
      "author": {
        "id": 1988269
      },
      "writtenOn": "2023-02-01T02:49:53Z",
      "side": 1,
      "message": "Thanks for your reply.\nI think it is ok when the granule falls on the boundary between\ntwo of these 5000 byte chunks.\nSee line 374-378, in this case, the \u0027O\u0027 will fall on the last 3 bytes of 5000,the offset is still in the range of (prevGuess + 5000).\nMaybe I express it wrong in commit msg, the 5000 here means the traversal size of offset instead of reading size, actually it will read 5003 bytes at most.",
      "parentUuid": "4a5d2530_1109a5e1",
      "range": {
        "startLine": 401,
        "startChar": 63,
        "endLine": 401,
        "endChar": 70
      },
      "revId": "c4a7d882dd2e01f313fa7ec1835df7ed75bdea48",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1f18bf00_eea42c96",
        "filename": "media/module/extractors/ogg/OggExtractor.cpp",
        "patchSetId": 3
      },
      "lineNbr": 401,
      "author": {
        "id": 1988269
      },
      "writtenOn": "2023-02-02T02:17:28Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5cc9520a_49ba2ef3",
      "range": {
        "startLine": 401,
        "startChar": 63,
        "endLine": 401,
        "endChar": 70
      },
      "revId": "c4a7d882dd2e01f313fa7ec1835df7ed75bdea48",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}