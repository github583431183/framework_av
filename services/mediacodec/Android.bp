
cc_shared_library {
    name: "libmediacodecservice",
    srcs: ["MediaCodecService.cpp"],
    shared_libs: [
        "libmedia",
        "libbinder",
        "libutils",
        "liblog",
        "libstagefright_omx",
    ],
    local_include_dirs: [
          "frameworks/av/media/libstagefright",
          "frameworks/native/include/media/openmax",
    ],
    compile_multilib: "32",
}

cc_binary {
    name: "mediacodec",
    srcs: [
        "main_codecservice.cpp",
        "minijail/minijail.cpp",
    ],
    local_include_dirs: [
          "frameworks/av/media/libstagefright",
          "frameworks/native/include/media/openmax",
    ],
    shared_libs: [
       "libmedia",
       "libmediacodecservices",
       "libbinder",
       "libutils",
       "liblog",
       "libminijail",
    ],
    compile_multilib: "32",
    required: mediacodec-seccomp.policy
    init.rc: mediacodec.rc
}

subdirs = ["*"]
