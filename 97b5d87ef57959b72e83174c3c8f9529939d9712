{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "730ef907_40c09b58",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 12
      },
      "lineNbr": 0,
      "author": {
        "id": 1133568
      },
      "writtenOn": "2024-02-15T13:01:43Z",
      "side": 1,
      "message": "audiorouting_tests are fixed with PS12.\n\nCtsVirtualDevicesTestCases --test-filter\u003d\".*VirtualAudioTest.*\" are now not stalling on test 8 either. They run to completion, but 2 tests consistently fail as below. I\u0027ll look into it.\n\n```\n[16/19] android.virtualdevice.cts.VirtualAudioTest#audioCapture_readByteArrayBlocking_shouldCaptureAppPlaybackData: FAILED (1.029s)\n\nSTACKTRACE:\nexpected: 8\nbut was : 0\n        at android.virtualdevice.cts.VirtualAudioTest.runAudioCaptureTest(VirtualAudioTest.java:387)\n        at android.virtualdevice.cts.VirtualAudioTest.audioCapture_readByteArrayBlocking_shouldCaptureAppPlaybackData(VirtualAudioTest.java:296)\n\n[17/19] android.virtualdevice.cts.VirtualAudioTest#audioCapture_readByteArray_shouldCaptureAppPlaybackData: FAILED (1.056s)\n\nSTACKTRACE:\nexpected: 8\nbut was : 0\n        at android.virtualdevice.cts.VirtualAudioTest.runAudioCaptureTest(VirtualAudioTest.java:387)\n        at android.virtualdevice.cts.VirtualAudioTest.audioCapture_readByteArray_shouldCaptureAppPlaybackData(VirtualAudioTest.java:291)\n\n```",
      "revId": "97b5d87ef57959b72e83174c3c8f9529939d9712",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8792534f_22c63a8c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 12
      },
      "lineNbr": 0,
      "author": {
        "id": 1042638
      },
      "writtenOn": "2024-02-15T21:34:30Z",
      "side": 1,
      "message": "Thank you, Dean! Let me take a closer look at your latest versions.",
      "revId": "97b5d87ef57959b72e83174c3c8f9529939d9712",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0c3f0512_d52d9aa0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 12
      },
      "lineNbr": 0,
      "author": {
        "id": 1042638
      },
      "writtenOn": "2024-02-15T21:34:30Z",
      "side": 1,
      "message": "\u003e are now not stalling on test 8 either. They run to completion, but 2 tests consistently fail as below.\n\nI\u0027m observing this w/o your patches as well. Started looking into it but hasn\u0027t came to any conclusion yet. For me, these tests work if you run them individually, and fail when running as part of the suite. If the same behavior holds with your patches, we are good ðŸ˜Š",
      "parentUuid": "730ef907_40c09b58",
      "revId": "97b5d87ef57959b72e83174c3c8f9529939d9712",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "495b0a3d_8867ceb8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 12
      },
      "lineNbr": 0,
      "author": {
        "id": 1133568
      },
      "writtenOn": "2024-02-15T23:32:02Z",
      "side": 1,
      "message": "These tests pass when run individually.\n\nThe biggest problem I now see with these patches is that the testEac3JocLoopback fails with\n```\njava.lang.AssertionError: Unable to write to AudioTrack\n        at org.junit.Assert.fail(Assert.java:89)\n        at android.media.audio.cts.LoopbackPassthroughTest.loopback(LoopbackPassthroughTest.java:213)\n        at android.media.audio.cts.LoopbackPassthroughTest.testEac3JocLoopback(LoopbackPassthroughTest.java:139\n```\non first run after audiorouting_tests:AudioTrackTest#DefaultRoutingTest is run. After that failure, testEac3JocLoopback passes.\n\nNOTE: if the full audiorouting_tests is run with AudioRoutingTest#ConcurrentDynamicRoutingTest as the last test before testEac3JocLoopback, then the testEac3JocLoopback passes.",
      "parentUuid": "0c3f0512_d52d9aa0",
      "revId": "97b5d87ef57959b72e83174c3c8f9529939d9712",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c15e0a3b_fed127e8",
        "filename": "media/libaudiohal/impl/Hal2AidlMapper.cpp",
        "patchSetId": 12
      },
      "lineNbr": 345,
      "author": {
        "id": 1042638
      },
      "writtenOn": "2024-02-15T22:00:29Z",
      "side": 1,
      "message": "I think, `static` needs to be removed.",
      "range": {
        "startLine": 345,
        "startChar": 8,
        "endLine": 345,
        "endChar": 14
      },
      "revId": "97b5d87ef57959b72e83174c3c8f9529939d9712",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c69ec3b7_21071262",
        "filename": "media/libaudiohal/impl/Hal2AidlMapper.cpp",
        "patchSetId": 12
      },
      "lineNbr": 345,
      "author": {
        "id": 1133568
      },
      "writtenOn": "2024-02-15T23:32:02Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c15e0a3b_fed127e8",
      "range": {
        "startLine": 345,
        "startChar": 8,
        "endLine": 345,
        "endChar": 14
      },
      "revId": "97b5d87ef57959b72e83174c3c8f9529939d9712",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f58a3ff5_dc513af1",
        "filename": "media/libaudiohal/impl/Hal2AidlMapper.cpp",
        "patchSetId": 12
      },
      "lineNbr": 378,
      "author": {
        "id": 1042638
      },
      "writtenOn": "2024-02-15T22:00:29Z",
      "side": 1,
      "message": "Please align with the approach for input flags above. That is, start with an empty non-static vector and add flags necessary for the remote submix case.",
      "range": {
        "startLine": 375,
        "startChar": 0,
        "endLine": 378,
        "endChar": 35
      },
      "revId": "97b5d87ef57959b72e83174c3c8f9529939d9712",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "22b491b3_9c96e306",
        "filename": "media/libaudiohal/impl/Hal2AidlMapper.cpp",
        "patchSetId": 12
      },
      "lineNbr": 378,
      "author": {
        "id": 1133568
      },
      "writtenOn": "2024-02-15T23:32:02Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f58a3ff5_dc513af1",
      "range": {
        "startLine": 375,
        "startChar": 0,
        "endLine": 378,
        "endChar": 35
      },
      "revId": "97b5d87ef57959b72e83174c3c8f9529939d9712",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}