{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "02d57276_ec459c8c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1108919
      },
      "writtenOn": "2022-11-15T17:35:22Z",
      "side": 1,
      "message": "I\u0027m not convinced that this is the correct change.\n\nIt seems to me that the more appropriate change is to make sure that the\nstop() is coordinated -- where this code pushes the EOS into the stream of frames\nand making sure that those come through to get flushed appropriately.",
      "revId": "322cc15128610bbae1bdf2c4846c78bbd0ab8c15",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "afa21707_85434d23",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1733827
      },
      "writtenOn": "2022-11-16T10:55:38Z",
      "side": 1,
      "message": "Sink thread may not exit immediately after stop() called if waiting for eos frames.\nWould you want to write all frames before eos frames?",
      "parentUuid": "02d57276_ec459c8c",
      "revId": "322cc15128610bbae1bdf2c4846c78bbd0ab8c15",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ae2f64af_04c3f5d5",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1108919
      },
      "writtenOn": "2022-11-16T17:36:02Z",
      "side": 1,
      "message": "correct; there may be some delay as the last few frames are written.\n\nhow many frames get written (and thus how long we might wait) can be reduced by\nputting those EOS markers at the front of the pending queue instead of the back.\n\nThe correct synchronization point at around the stop(), not the start().",
      "parentUuid": "afa21707_85434d23",
      "revId": "322cc15128610bbae1bdf2c4846c78bbd0ab8c15",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3f879be5_1e67e871",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1733827
      },
      "writtenOn": "2022-11-21T09:51:02Z",
      "side": 1,
      "message": "The cts case will write one frame and expect to get it in mkv file.\nIf remove mDone \u003d true; in stop(), then all frames will write to mkv file.\nIf push eos frames to the front of queue, then cts will fail due to thread will not get the frame and write it to file.\nIf delay can\u0027t be reduced, I prefer to add it in start().\nSome devices requires stop executes immediately and board may power off after that such as driving recorder.",
      "parentUuid": "ae2f64af_04c3f5d5",
      "revId": "322cc15128610bbae1bdf2c4846c78bbd0ab8c15",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}