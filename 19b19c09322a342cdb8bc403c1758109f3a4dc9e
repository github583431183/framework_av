{
  "comments": [
    {
      "key": {
        "uuid": "5e48e404_b1c7fa21",
        "filename": "services/audioflinger/Threads.cpp",
        "patchSetId": 2
      },
      "lineNbr": 3832,
      "author": {
        "id": 1040213
      },
      "writtenOn": "2020-02-10T23:49:56Z",
      "side": 1,
      "message": "collectTimestamps_l()?\n\nthreadloop_* methods should only be called by the threadloop - the AudioFlinger worker thread - and have particular properties since they are called by a single worker thread. Hence we should use a different name.",
      "range": {
        "startLine": 3832,
        "startChar": 35,
        "endLine": 3832,
        "endChar": 63
      },
      "revId": "19b19c09322a342cdb8bc403c1758109f3a4dc9e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7c401576_a7f18139",
        "filename": "services/audioflinger/Threads.cpp",
        "patchSetId": 2
      },
      "lineNbr": 3832,
      "author": {
        "id": 1133568
      },
      "writtenOn": "2020-02-11T05:19:02Z",
      "side": 1,
      "message": "Ack - and thank you for your explanation.",
      "parentUuid": "5e48e404_b1c7fa21",
      "range": {
        "startLine": 3832,
        "startChar": 35,
        "endLine": 3832,
        "endChar": 63
      },
      "revId": "19b19c09322a342cdb8bc403c1758109f3a4dc9e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0b511551_af30dce8",
        "filename": "services/audioflinger/Threads.cpp",
        "patchSetId": 2
      },
      "lineNbr": 3907,
      "author": {
        "id": 1042638
      },
      "writtenOn": "2020-02-04T02:00:22Z",
      "side": 1,
      "message": "How often can this happen? Does it make sense to change the log priority to ALOGW so developers can see a log message if getTimestamp fails due to this condition?",
      "range": {
        "startLine": 3907,
        "startChar": 16,
        "endLine": 3907,
        "endChar": 22
      },
      "revId": "19b19c09322a342cdb8bc403c1758109f3a4dc9e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0b509a36_16918d7f",
        "filename": "services/audioflinger/Threads.cpp",
        "patchSetId": 2
      },
      "lineNbr": 3907,
      "author": {
        "id": 1133568
      },
      "writtenOn": "2020-02-09T23:55:05Z",
      "side": 1,
      "message": "Andy - can you comment on this, as this is copied from current code?",
      "parentUuid": "0b511551_af30dce8",
      "range": {
        "startLine": 3907,
        "startChar": 16,
        "endLine": 3907,
        "endChar": 22
      },
      "revId": "19b19c09322a342cdb8bc403c1758109f3a4dc9e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9f1177f9_ba2d89e1",
        "filename": "services/audioflinger/Threads.cpp",
        "patchSetId": 2
      },
      "lineNbr": 3907,
      "author": {
        "id": 1040213
      },
      "writtenOn": "2020-02-10T23:49:56Z",
      "side": 1,
      "message": "Used to be a lot of errors (based on older HALs).  Maybe this is fine to move to ALOGW. We keep track of errors in the timestamp verifier, perhaps we should also log as per line 3917.",
      "parentUuid": "0b509a36_16918d7f",
      "range": {
        "startLine": 3907,
        "startChar": 16,
        "endLine": 3907,
        "endChar": 22
      },
      "revId": "19b19c09322a342cdb8bc403c1758109f3a4dc9e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "620c02e5_2f799d4f",
        "filename": "services/audioflinger/Threads.cpp",
        "patchSetId": 2
      },
      "lineNbr": 3907,
      "author": {
        "id": 1133568
      },
      "writtenOn": "2020-02-11T05:19:02Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "9f1177f9_ba2d89e1",
      "range": {
        "startLine": 3907,
        "startChar": 16,
        "endLine": 3907,
        "endChar": 22
      },
      "revId": "19b19c09322a342cdb8bc403c1758109f3a4dc9e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "aed66e70_7254395a",
        "filename": "services/audioflinger/Threads.cpp",
        "patchSetId": 2
      },
      "lineNbr": 4023,
      "author": {
        "id": 1040213
      },
      "writtenOn": "2020-02-10T23:49:56Z",
      "side": 1,
      "message": "sigh, we need to fix this to be an int64_t :-(.",
      "range": {
        "startLine": 4023,
        "startChar": 24,
        "endLine": 4023,
        "endChar": 30
      },
      "revId": "19b19c09322a342cdb8bc403c1758109f3a4dc9e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a215ec7f_b3eddaea",
        "filename": "services/audioflinger/Threads.cpp",
        "patchSetId": 2
      },
      "lineNbr": 4023,
      "author": {
        "id": 1133568
      },
      "writtenOn": "2020-02-11T05:19:02Z",
      "side": 1,
      "message": "This issue also manifests in AudioTimestamp.h getBestTimestamp().\n\nstatus_t getBestTimestamp(AudioTimestamp *timestamp, Location *location \u003d nullptr) const {\n...\n        int64_t position, time;\n        if (getBestTimestamp(\u0026position, \u0026time, TIMEBASE_MONOTONIC, location) \u003d\u003d OK) {\n...\n            timestamp-\u003emTime.tv_sec \u003d time / 1000000000;\n...\n}",
      "parentUuid": "aed66e70_7254395a",
      "range": {
        "startLine": 4023,
        "startChar": 24,
        "endLine": 4023,
        "endChar": 30
      },
      "revId": "19b19c09322a342cdb8bc403c1758109f3a4dc9e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "443415c7_74c6ffb8",
        "filename": "services/audioflinger/Threads.cpp",
        "patchSetId": 2
      },
      "lineNbr": 4023,
      "author": {
        "id": 1040213
      },
      "writtenOn": "2020-02-11T20:40:01Z",
      "side": 1,
      "message": "ah, this is a note to myself :-).  legacy code,  don\u0027t worry about making the change now.",
      "parentUuid": "a215ec7f_b3eddaea",
      "range": {
        "startLine": 4023,
        "startChar": 24,
        "endLine": 4023,
        "endChar": 30
      },
      "revId": "19b19c09322a342cdb8bc403c1758109f3a4dc9e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}