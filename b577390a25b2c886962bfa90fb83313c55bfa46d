{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "867e56b1_079490b1",
        "filename": "media/libmediaplayerservice/StagefrightRecorder.cpp",
        "patchSetId": 3
      },
      "lineNbr": 2181,
      "author": {
        "id": 1018606
      },
      "writtenOn": "2023-01-12T18:54:00Z",
      "side": 1,
      "message": "I have a little bit of concern that `setupVideoEncoder` access `this` without lock guards. Assuming the bulk of time is consumed at `MediaCodecSource::Create`, can we limit the scope of the part that is running asynchronously?",
      "revId": "b577390a25b2c886962bfa90fb83313c55bfa46d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6a127b5f_4b60c9b8",
        "filename": "media/libmediaplayerservice/StagefrightRecorder.cpp",
        "patchSetId": 3
      },
      "lineNbr": 2181,
      "author": {
        "id": 1902438
      },
      "writtenOn": "2023-01-25T04:15:52Z",
      "side": 1,
      "message": "The intention of this change was to parallelize video \u0026 audio encoder setup calls which are independent.\nsetupVideoEncoder is being invoked from other recorder apis like\nsetupRTPRecording\nsetupMPEG2TSRecording\nHence MediaCodecSource::Create alone cannot be ran asynchronously or moved out of setupVideoEncoder api.\nPlease share your thoughts in this case.",
      "parentUuid": "867e56b1_079490b1",
      "revId": "b577390a25b2c886962bfa90fb83313c55bfa46d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}