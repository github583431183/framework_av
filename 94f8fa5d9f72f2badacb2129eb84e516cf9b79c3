{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "bf5adf15_f93ff875",
        "filename": "media/libaudioclient/AudioSystem.cpp",
        "patchSetId": 1
      },
      "lineNbr": 1975,
      "author": {
        "id": 1003259
      },
      "writtenOn": "2021-11-05T13:29:51Z",
      "side": 1,
      "message": "convert deviceType to aidl (legacy2aidl_audio_devices_t_AudioDeviceDescription)",
      "range": {
        "startLine": 1975,
        "startChar": 46,
        "endLine": 1975,
        "endChar": 56
      },
      "revId": "94f8fa5d9f72f2badacb2129eb84e516cf9b79c3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cc2464e1_201a9abc",
        "filename": "media/libaudioclient/AudioSystem.cpp",
        "patchSetId": 1
      },
      "lineNbr": 1975,
      "author": {
        "id": 1875587
      },
      "writtenOn": "2021-11-08T13:45:43Z",
      "side": 1,
      "message": "legacy2aidl_audio_devices_t_AudioDeviceDescription is for internal branch, for the AOSP I used legacy2aidl_audio_devices_t_int32_t instead.",
      "parentUuid": "bf5adf15_f93ff875",
      "range": {
        "startLine": 1975,
        "startChar": 46,
        "endLine": 1975,
        "endChar": 56
      },
      "revId": "94f8fa5d9f72f2badacb2129eb84e516cf9b79c3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8f8c5eb8_e5946491",
        "filename": "media/libaudioclient/aidl/android/media/IAudioPolicyService.aidl",
        "patchSetId": 1
      },
      "lineNbr": 296,
      "author": {
        "id": 1003259
      },
      "writtenOn": "2021-11-05T13:29:51Z",
      "side": 1,
      "message": "audio_devices_t",
      "range": {
        "startLine": 296,
        "startChar": 47,
        "endLine": 296,
        "endChar": 50
      },
      "revId": "94f8fa5d9f72f2badacb2129eb84e516cf9b79c3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f4b9ea59_55ec3da7",
        "filename": "media/libaudioclient/aidl/android/media/IAudioPolicyService.aidl",
        "patchSetId": 1
      },
      "lineNbr": 296,
      "author": {
        "id": 1042638
      },
      "writtenOn": "2021-11-05T15:30:30Z",
      "side": 1,
      "message": "This is AIDL. Should be \u0027in AudioDevice device\u0027. If we want to use the device type only, the type for that is different for the moment between AOSP and internal. In AOSP \u0027int\u0027 is still used (see \u0027type\u0027 here https://cs.android.com/android/platform/superproject/+/master:frameworks/av/media/libaudioclient/aidl/android/media/AudioDevice.aidl), whereas in internal we use \u0027AudioDeviceDescription\u0027 (see http://cs/android/frameworks/base/media/aidl/android/media/audio/common/AudioDevice.aidl). Thus, to proceed with the device type, different versions of the patch would be needed for AOSP and internal, until we upstream type system changes to AOSP.",
      "parentUuid": "8f8c5eb8_e5946491",
      "range": {
        "startLine": 296,
        "startChar": 47,
        "endLine": 296,
        "endChar": 50
      },
      "revId": "94f8fa5d9f72f2badacb2129eb84e516cf9b79c3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e9582300_6cf0b599",
        "filename": "media/libaudioclient/aidl/android/media/IAudioPolicyService.aidl",
        "patchSetId": 1
      },
      "lineNbr": 296,
      "author": {
        "id": 1875587
      },
      "writtenOn": "2021-11-08T13:45:43Z",
      "side": 1,
      "message": "Only device type will be used in this function. AudioDevice includes the device type and address, so I would prefer to use audio_devices_t.\nI will create the related patches to the internal branch once these patches are reviewed.",
      "parentUuid": "f4b9ea59_55ec3da7",
      "range": {
        "startLine": 296,
        "startChar": 47,
        "endLine": 296,
        "endChar": 50
      },
      "revId": "94f8fa5d9f72f2badacb2129eb84e516cf9b79c3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "15e7e828_ee01746a",
        "filename": "media/libaudioclient/aidl/android/media/IAudioPolicyService.aidl",
        "patchSetId": 1
      },
      "lineNbr": 296,
      "author": {
        "id": 1042638
      },
      "writtenOn": "2021-11-08T18:48:24Z",
      "side": 1,
      "message": "\u003e I will create the related patches to the internal branch once these patches are reviewed.\n\nSince the patch from AOSP will not merge into internal due to conflicts, I would suggest starting with a patch on internal, merging it, and then either backporting to AOSP using the type system from Android S, or waiting for us to upstream our type system changes and then simply cherry-picking to AOSP with no changes.\n\nPlease note that on internal you will need to use http://cs/android/frameworks/base/media/aidl/android/media/audio/common/AudioDeviceDescription.aidl type instead of an int carrying \u0027audio_devices_t\u0027. There is a mapping between AudioDeviceDescription and audio_devices_t: http://cs/android/frameworks/av/media/libaudioclient/include/media/AidlConversion.h;l\u003d137;rcl\u003d5640c290d823164a362a55393d53e6d40be8db71",
      "parentUuid": "e9582300_6cf0b599",
      "range": {
        "startLine": 296,
        "startChar": 47,
        "endLine": 296,
        "endChar": 50
      },
      "revId": "94f8fa5d9f72f2badacb2129eb84e516cf9b79c3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2497196e_7e8125cf",
        "filename": "media/libaudioclient/include/media/AudioSystem.h",
        "patchSetId": 1
      },
      "lineNbr": 418,
      "author": {
        "id": 1003259
      },
      "writtenOn": "2021-11-05T13:29:51Z",
      "side": 1,
      "message": "see comment in aog/1881112 about use of audio device types",
      "range": {
        "startLine": 418,
        "startChar": 9,
        "endLine": 418,
        "endChar": 33
      },
      "revId": "94f8fa5d9f72f2badacb2129eb84e516cf9b79c3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c35c8849_957c0b46",
        "filename": "media/libaudioclient/include/media/AudioSystem.h",
        "patchSetId": 1
      },
      "lineNbr": 418,
      "author": {
        "id": 1875587
      },
      "writtenOn": "2021-11-08T13:45:43Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2497196e_7e8125cf",
      "range": {
        "startLine": 418,
        "startChar": 9,
        "endLine": 418,
        "endChar": 33
      },
      "revId": "94f8fa5d9f72f2badacb2129eb84e516cf9b79c3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}