{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "a9e700cb_1f9cff74",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1108919
      },
      "writtenOn": "2023-06-07T15:55:43Z",
      "side": 1,
      "message": "patchset 4 cleans the must fix. thanks.\nstill have some questions.",
      "revId": "6869c3744b6db86c17c5cbcb23320e470b8c9b82",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e49d1570_5ecf3821",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1108919
      },
      "writtenOn": "2023-06-07T15:55:54Z",
      "side": 1,
      "message": "forgot to change my vote",
      "revId": "6869c3744b6db86c17c5cbcb23320e470b8c9b82",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bffc1e34_ec3410e6",
        "filename": "media/codec2/components/flac/C2SoftFlacEnc.cpp",
        "patchSetId": 4
      },
      "lineNbr": 330,
      "author": {
        "id": 1108919
      },
      "writtenOn": "2023-06-07T15:55:43Z",
      "side": 1,
      "message": "i think\nmEncoderReturnedNbBytes !\u003d 0  correlates with mOutputBuffers.size() !\u003d 0\n\nwondering about the clarity around perhaps \nsurrounding line 331..362 inside an \"if (mEncoderReturnedNbBytes !\u003d 0)\"\nand having the else clause use the old fillEmptyWork",
      "revId": "6869c3744b6db86c17c5cbcb23320e470b8c9b82",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1ef46a6b_893cae22",
        "filename": "media/codec2/components/flac/C2SoftFlacEnc.cpp",
        "patchSetId": 4
      },
      "lineNbr": 330,
      "author": {
        "id": 1150374
      },
      "writtenOn": "2023-06-08T05:03:58Z",
      "side": 1,
      "message": "Answered below.",
      "parentUuid": "bffc1e34_ec3410e6",
      "revId": "6869c3744b6db86c17c5cbcb23320e470b8c9b82",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2fbdefcd_4df87490",
        "filename": "media/codec2/components/flac/C2SoftFlacEnc.cpp",
        "patchSetId": 4
      },
      "lineNbr": 353,
      "author": {
        "id": 1108919
      },
      "writtenOn": "2023-06-07T15:55:43Z",
      "side": 1,
      "message": "trying to convince myself that this is correct thing to do for both\nthe case where there is a last bit of buffer (lines 344..361) \nand \nwhen there were no buffers at all.\n\nI\u0027m pretty sure that the \"there is a final buffer\" case is ok.\ni\u0027m less confident about the case where we had no buffers to send back.\nthus, my thoughts near line 330.",
      "range": {
        "startLine": 352,
        "startChar": 3,
        "endLine": 353,
        "endChar": 36
      },
      "revId": "6869c3744b6db86c17c5cbcb23320e470b8c9b82",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "01c14dfd_4a141491",
        "filename": "media/codec2/components/flac/C2SoftFlacEnc.cpp",
        "patchSetId": 4
      },
      "lineNbr": 353,
      "author": {
        "id": 1150374
      },
      "writtenOn": "2023-06-08T05:03:58Z",
      "side": 1,
      "message": "The FillWork() implementation is just as same as FillEmptyWork if buffer is nullptr. If mEncoderReturnedNBytes is 0, then this automatically implies mOutputBuffer.size() is 0, causing buffer arg to be nullptr during this call. Thus it is same as FillEmptyWork.",
      "parentUuid": "2fbdefcd_4df87490",
      "range": {
        "startLine": 352,
        "startChar": 3,
        "endLine": 353,
        "endChar": 36
      },
      "revId": "6869c3744b6db86c17c5cbcb23320e470b8c9b82",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4b8779de_cdc9b6d2",
        "filename": "media/codec2/components/flac/C2SoftFlacEnc.cpp",
        "patchSetId": 4
      },
      "lineNbr": 353,
      "author": {
        "id": 1108919
      },
      "writtenOn": "2023-06-08T12:54:44Z",
      "side": 1,
      "message": "I think we can do better with the terminology.\n\nline 331 says that each entry in mOutputBuffers is a frame\nline 351 says that the overall transaction is a single frame.\n\ncomment on line 351 might be better phrased as:\n\n// finish the response for the overall transaction.\n// this includes any final frame that the encoder produced during this request\n// this response is required even if no data was encoded.",
      "parentUuid": "01c14dfd_4a141491",
      "range": {
        "startLine": 352,
        "startChar": 3,
        "endLine": 353,
        "endChar": 36
      },
      "revId": "6869c3744b6db86c17c5cbcb23320e470b8c9b82",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6b696387_a916fde5",
        "filename": "media/codec2/components/flac/C2SoftFlacEnc.cpp",
        "patchSetId": 4
      },
      "lineNbr": 353,
      "author": {
        "id": 1958927
      },
      "writtenOn": "2023-06-08T16:31:03Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4b8779de_cdc9b6d2",
      "range": {
        "startLine": 352,
        "startChar": 3,
        "endLine": 353,
        "endChar": 36
      },
      "revId": "6869c3744b6db86c17c5cbcb23320e470b8c9b82",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "58b3eb7d_d55150de",
        "filename": "media/codec2/components/flac/C2SoftFlacEnc.cpp",
        "patchSetId": 4
      },
      "lineNbr": 362,
      "author": {
        "id": 1150374
      },
      "writtenOn": "2023-06-08T05:03:58Z",
      "side": 1,
      "message": "Please remove this. This is unreachable code. If this is happening then some how flac encoder has sent data after callbacks are serviced. This should not happen. This is misleading.",
      "range": {
        "startLine": 355,
        "startChar": 4,
        "endLine": 362,
        "endChar": 5
      },
      "revId": "6869c3744b6db86c17c5cbcb23320e470b8c9b82",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "11aa83d1_c86f735e",
        "filename": "media/codec2/components/flac/C2SoftFlacEnc.cpp",
        "patchSetId": 4
      },
      "lineNbr": 362,
      "author": {
        "id": 1958927
      },
      "writtenOn": "2023-06-08T12:33:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "58b3eb7d_d55150de",
      "range": {
        "startLine": 355,
        "startChar": 4,
        "endLine": 362,
        "endChar": 5
      },
      "revId": "6869c3744b6db86c17c5cbcb23320e470b8c9b82",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}