{
  "comments": [
    {
      "key": {
        "uuid": "67436a07_2fc2879a",
        "filename": "services/camera/libcameraservice/CameraService.cpp",
        "patchSetId": 1
      },
      "lineNbr": 248,
      "author": {
        "id": 1060513
      },
      "writtenOn": "2017-12-01T00:14:30Z",
      "side": 1,
      "message": "Style nit:\n\nif (cameraFound) {\n    onDeviceStatusChanged(id8, CameraDeviceStatus::PRESENT);\n} else {\n    addStates(id8);\n}",
      "range": {
        "startLine": 245,
        "startChar": 0,
        "endLine": 248,
        "endChar": 68
      },
      "revId": "13a550ffffce3018e8722af1ca3fb6dd9d91fdb9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e91525f_5c59a873",
        "filename": "services/camera/libcameraservice/CameraService.cpp",
        "patchSetId": 1
      },
      "lineNbr": 248,
      "author": {
        "id": 1060513
      },
      "writtenOn": "2017-12-01T19:37:13Z",
      "side": 1,
      "message": "Also, I think we still need to send onDeviceStatusChanged after addStates. So maybe it should be:\nif (!cameraFound) {\n    addStates(id8);\n}\nonDeviceStatusChanged(id8, CameraDeviceStatus::PRESENT);",
      "parentUuid": "67436a07_2fc2879a",
      "range": {
        "startLine": 245,
        "startChar": 0,
        "endLine": 248,
        "endChar": 68
      },
      "revId": "13a550ffffce3018e8722af1ca3fb6dd9d91fdb9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0ba6bef2_94b9fb33",
        "filename": "services/camera/libcameraservice/CameraService.cpp",
        "patchSetId": 1
      },
      "lineNbr": 248,
      "author": {
        "id": 1011728
      },
      "writtenOn": "2017-12-06T17:33:36Z",
      "side": 1,
      "message": "Maybe you\u0027re right, but I\u0027d like to understand your reasoning. The reason, why I put an \"else\" there is, that if cameraFound is false, then addStates() adds the camera to the mCameraStates map, using the default status PRESENT from the CameraState(id, cost, conflicting) constructor. Then onDeviceStatusChanged() would check \"if (oldStatus \u003d\u003d newStatus)\" and issue a\n\nState transition to the same status 0x1 not allowed\n\nand return. Am I misunderstanding something?",
      "parentUuid": "8e91525f_5c59a873",
      "range": {
        "startLine": 245,
        "startChar": 0,
        "endLine": 248,
        "endChar": 68
      },
      "revId": "13a550ffffce3018e8722af1ca3fb6dd9d91fdb9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b4f7d2ae_7d6c282c",
        "filename": "services/camera/libcameraservice/CameraService.cpp",
        "patchSetId": 1
      },
      "lineNbr": 284,
      "author": {
        "id": 1060513
      },
      "writtenOn": "2017-12-01T00:14:30Z",
      "side": 1,
      "message": "indent 4 spaces",
      "range": {
        "startLine": 284,
        "startChar": 0,
        "endLine": 284,
        "endChar": 8
      },
      "revId": "13a550ffffce3018e8722af1ca3fb6dd9d91fdb9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}