{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "80b25162_f353ddde",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1108919
      },
      "writtenOn": "2024-02-27T14:08:49Z",
      "side": 1,
      "message": "I don\u0027t think this is correct.",
      "revId": "d1c94536321c58f66706388410e54f60e23df9cd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "540fc86d_b87b38ab",
        "filename": "media/libstagefright/MediaCodec.cpp",
        "patchSetId": 2
      },
      "lineNbr": 2052,
      "author": {
        "id": 1108919
      },
      "writtenOn": "2024-02-27T14:08:49Z",
      "side": 1,
      "message": "this makes me think that the intent of those strncmp() calls later in the file against default are intended to match exactly \"default\", not \"default\" as a prefix.",
      "range": {
        "startLine": 2052,
        "startChar": 8,
        "endLine": 2052,
        "endChar": 42
      },
      "revId": "d1c94536321c58f66706388410e54f60e23df9cd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8d345ccf_6c4ea0c5",
        "filename": "media/libstagefright/MediaCodec.cpp",
        "patchSetId": 2
      },
      "lineNbr": 2052,
      "author": {
        "id": 1955441
      },
      "writtenOn": "2024-02-28T08:19:20Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "540fc86d_b87b38ab",
      "range": {
        "startLine": 2052,
        "startChar": 8,
        "endLine": 2052,
        "endChar": 42
      },
      "revId": "d1c94536321c58f66706388410e54f60e23df9cd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a115b8d5_6fdd8922",
        "filename": "media/libstagefright/MediaCodec.cpp",
        "patchSetId": 2
      },
      "lineNbr": 4162,
      "author": {
        "id": 1108919
      },
      "writtenOn": "2024-02-27T14:08:49Z",
      "side": 1,
      "message": "previous version, using 8 characters covers \"default\" + the null terminator.\nwhich is equivalent to a simple strcmp().\n\nthis update changes the behavior to checking for a prefix \"default\".\n\nSo this will now match owners of \"default\" and \"default-something more\".\nI don\u0027t know that this was the intent of the original code; we\u0027ll have to ask wonsik.",
      "range": {
        "startLine": 4162,
        "startChar": 31,
        "endLine": 4162,
        "endChar": 62
      },
      "revId": "d1c94536321c58f66706388410e54f60e23df9cd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7321ec21_8c3bc82d",
        "filename": "media/libstagefright/MediaCodec.cpp",
        "patchSetId": 2
      },
      "lineNbr": 4162,
      "author": {
        "id": 1018606
      },
      "writtenOn": "2024-02-27T19:53:48Z",
      "side": 1,
      "message": "yes the intention is to check the null terminator",
      "parentUuid": "a115b8d5_6fdd8922",
      "range": {
        "startLine": 4162,
        "startChar": 31,
        "endLine": 4162,
        "endChar": 62
      },
      "revId": "d1c94536321c58f66706388410e54f60e23df9cd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d23f6479_74c63b5a",
        "filename": "media/libstagefright/MediaCodec.cpp",
        "patchSetId": 2
      },
      "lineNbr": 4162,
      "author": {
        "id": 1108919
      },
      "writtenOn": "2024-02-27T22:12:34Z",
      "side": 1,
      "message": "wonsik, should we change it from strncmp(\"default\",8) to strcmp(\"default\") to avoid this sort of confusuin? or is there a particular reason that you chose strncmp() earlier?",
      "parentUuid": "7321ec21_8c3bc82d",
      "range": {
        "startLine": 4162,
        "startChar": 31,
        "endLine": 4162,
        "endChar": 62
      },
      "revId": "d1c94536321c58f66706388410e54f60e23df9cd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "eff18d10_405d8196",
        "filename": "media/libstagefright/MediaCodec.cpp",
        "patchSetId": 2
      },
      "lineNbr": 4162,
      "author": {
        "id": 1018606
      },
      "writtenOn": "2024-02-27T22:42:07Z",
      "side": 1,
      "message": "I think strncmp was used to prevent read out of bound. A modern way may be\n\n```suggestion\n                            \u0026\u0026 std::string_view(owner) \u003d\u003d \"default\"sv) {\n```",
      "parentUuid": "d23f6479_74c63b5a",
      "range": {
        "startLine": 4162,
        "startChar": 31,
        "endLine": 4162,
        "endChar": 62
      },
      "revId": "d1c94536321c58f66706388410e54f60e23df9cd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dbdb4f2e_d9e66093",
        "filename": "media/libstagefright/MediaCodec.cpp",
        "patchSetId": 2
      },
      "lineNbr": 4162,
      "author": {
        "id": 1108919
      },
      "writtenOn": "2024-02-27T22:50:54Z",
      "side": 1,
      "message": "shouldn\u0027t strcmp(owner,\"default\") be guaranteed to stop by the time it gets to\nthe shorter of the two strings?  so an unterminated owner would stop after the 8 bytes of default+null?\n\ni\u0027m ok leaving it as-is, which is functionally correct and bounds safe.\ni think i\u0027d leave it alone before changing to string_view().",
      "parentUuid": "eff18d10_405d8196",
      "range": {
        "startLine": 4162,
        "startChar": 31,
        "endLine": 4162,
        "endChar": 62
      },
      "revId": "d1c94536321c58f66706388410e54f60e23df9cd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "996d9eeb_e96e4e11",
        "filename": "media/libstagefright/MediaCodec.cpp",
        "patchSetId": 2
      },
      "lineNbr": 4162,
      "author": {
        "id": 1955441
      },
      "writtenOn": "2024-02-28T08:19:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "dbdb4f2e_d9e66093",
      "range": {
        "startLine": 4162,
        "startChar": 31,
        "endLine": 4162,
        "endChar": 62
      },
      "revId": "d1c94536321c58f66706388410e54f60e23df9cd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "560751a3_7a5b06d9",
        "filename": "media/libstagefright/MediaCodec.cpp",
        "patchSetId": 2
      },
      "lineNbr": 6976,
      "author": {
        "id": 1108919
      },
      "writtenOn": "2024-02-27T14:08:49Z",
      "side": 1,
      "message": "this one has the appearance of the intent being to look for a prefix,\nespecially since the matched string ends with the \"::\".",
      "range": {
        "startLine": 6976,
        "startChar": 18,
        "endLine": 6976,
        "endChar": 45
      },
      "revId": "d1c94536321c58f66706388410e54f60e23df9cd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "402d3d72_45ba293a",
        "filename": "media/libstagefright/MediaCodec.cpp",
        "patchSetId": 2
      },
      "lineNbr": 6976,
      "author": {
        "id": 1955441
      },
      "writtenOn": "2024-02-28T08:19:20Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "560751a3_7a5b06d9",
      "range": {
        "startLine": 6976,
        "startChar": 18,
        "endLine": 6976,
        "endChar": 45
      },
      "revId": "d1c94536321c58f66706388410e54f60e23df9cd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}