{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "aadce7a7_1e6a007e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1156740
      },
      "writtenOn": "2021-10-07T15:32:47Z",
      "side": 1,
      "message": "Due to the upcoming deadline, address comments with another CL.",
      "revId": "6f23cfc95aab653873bfc31f0d70e2f286660839",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9a426ded_0bcf377b",
        "filename": "media/codec2/sfplugin/CCodecBuffers.cpp",
        "patchSetId": 3
      },
      "lineNbr": 233,
      "author": {
        "id": 1156740
      },
      "writtenOn": "2021-10-05T22:13:09Z",
      "side": 1,
      "message": "Is this being the case of memory insufficient? Could we have some explanation comments here?",
      "range": {
        "startLine": 233,
        "startChar": 9,
        "endLine": 233,
        "endChar": 18
      },
      "revId": "6f23cfc95aab653873bfc31f0d70e2f286660839",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9bde62e4_96285018",
        "filename": "media/codec2/sfplugin/CCodecBuffers.cpp",
        "patchSetId": 3
      },
      "lineNbr": 233,
      "author": {
        "id": 1156740
      },
      "writtenOn": "2021-10-07T19:40:34Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "9a426ded_0bcf377b",
      "range": {
        "startLine": 233,
        "startChar": 9,
        "endLine": 233,
        "endChar": 18
      },
      "revId": "6f23cfc95aab653873bfc31f0d70e2f286660839",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5eabe39c_a1d06194",
        "filename": "media/codec2/sfplugin/CCodecBuffers.cpp",
        "patchSetId": 3
      },
      "lineNbr": 236,
      "author": {
        "id": 1096713
      },
      "writtenOn": "2021-10-08T14:02:43Z",
      "side": 1,
      "message": "This line seems like it almost certainly intended to be:\n\n  if (!*dst) {\n\nadding the \u0027*\u0027 dereference.  Otherwise, if this check was correct, we\u0027d crash on the very next line, dereferencing a nullptr.\n\nAs is, I think this check always ends up \u0027false\u0027 in the code, which is not what I think we intend.\n\nI\u0027ve put up a follow-up fix: https://android-review.googlesource.com/c/platform/frameworks/av/+/1850314",
      "revId": "6f23cfc95aab653873bfc31f0d70e2f286660839",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "328ab996_a6d83786",
        "filename": "media/codec2/sfplugin/CCodecBuffers.cpp",
        "patchSetId": 3
      },
      "lineNbr": 236,
      "author": {
        "id": 1156740
      },
      "writtenOn": "2021-10-08T19:04:03Z",
      "side": 1,
      "message": "You are right. But interface definition is as below.\nWe need to change the interface definition also as using double ptr or rewriting is required.\n\n    /**\n     * Apply DataConverter from |src| to |*dst| if needed. If |dst| is nullptr,\n     * a new buffer is allocated.\n     *\n     * Returns true if conversion was needed and executed; false otherwise.\n     */\n    bool convert(const std::shared_ptr\u003cC2Buffer\u003e \u0026src, sp\u003cCodec2Buffer\u003e *dst);",
      "parentUuid": "5eabe39c_a1d06194",
      "revId": "6f23cfc95aab653873bfc31f0d70e2f286660839",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7d04bfbd_5b179133",
        "filename": "media/codec2/sfplugin/CCodecBuffers.cpp",
        "patchSetId": 3
      },
      "lineNbr": 236,
      "author": {
        "id": 1096713
      },
      "writtenOn": "2021-10-08T19:17:47Z",
      "side": 1,
      "message": "Thanks,  I\u0027ve updated the follow-up fix https://android-review.googlesource.com/c/platform/frameworks/av/+/1850314 to change this comment in the header as well.",
      "parentUuid": "328ab996_a6d83786",
      "revId": "6f23cfc95aab653873bfc31f0d70e2f286660839",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3e6c228d_1747df2a",
        "filename": "media/codec2/sfplugin/CCodecBuffers.cpp",
        "patchSetId": 3
      },
      "lineNbr": 1128,
      "author": {
        "id": 1156740
      },
      "writtenOn": "2021-10-05T22:39:11Z",
      "side": 1,
      "message": "Is this NO_MEMORY?",
      "range": {
        "startLine": 1128,
        "startChar": 8,
        "endLine": 1128,
        "endChar": 35
      },
      "revId": "6f23cfc95aab653873bfc31f0d70e2f286660839",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9cb50731_adae8a09",
        "filename": "media/codec2/sfplugin/CCodecBuffers.cpp",
        "patchSetId": 3
      },
      "lineNbr": 1128,
      "author": {
        "id": 1156740
      },
      "writtenOn": "2021-10-07T19:40:34Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "3e6c228d_1747df2a",
      "range": {
        "startLine": 1128,
        "startChar": 8,
        "endLine": 1128,
        "endChar": 35
      },
      "revId": "6f23cfc95aab653873bfc31f0d70e2f286660839",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}