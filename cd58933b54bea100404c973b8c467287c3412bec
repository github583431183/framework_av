{
  "comments": [
    {
      "key": {
        "uuid": "81863480_7513bb46",
        "filename": "media/libstagefright/mpeg2ts/ESQueue.cpp",
        "patchSetId": 1
      },
      "lineNbr": 58,
      "author": {
        "id": 1108919
      },
      "writtenOn": "2020-06-15T20:24:00Z",
      "side": 1,
      "message": "so in order to avoid linking in libcrypto when in an apex,\nit seems that a believed-encrypted mpeg2ts instance with encryption will be pointed\nat the dummy/stub decryptor.  and that would seem to say that we won\u0027t be able to handle encrypted mpeg2ts streams in build where these live in an apex.\n\nthat doesn\u0027t feel right.",
      "range": {
        "startLine": 58,
        "startChar": 7,
        "endLine": 58,
        "endChar": 23
      },
      "revId": "cd58933b54bea100404c973b8c467287c3412bec",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ee87b5c8_454ca362",
        "filename": "media/libstagefright/mpeg2ts/ESQueue.cpp",
        "patchSetId": 1
      },
      "lineNbr": 58,
      "author": {
        "id": 1001525
      },
      "writtenOn": "2020-06-15T20:49:48Z",
      "side": 1,
      "message": "Good point. Dongwon, do you remember why you made this change the way you did?\nIt does seem possible for the mpeg-2 extractor to create an ATSParser for an encrypted stream, which in turn would create an ElementaryStreamQueue with the \"encrypted\" flag set, and it seems this would make that not work.\nOn the other hand, the change has been in internal R/master for a while, so either we have no tests for encrypted mpeg-2, or this doesn\u0027t work the way it would seem to at first glance.",
      "parentUuid": "81863480_7513bb46",
      "range": {
        "startLine": 58,
        "startChar": 7,
        "endLine": 58,
        "endChar": 23
      },
      "revId": "cd58933b54bea100404c973b8c467287c3412bec",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "db9bc6b8_9e3670ec",
        "filename": "media/libstagefright/mpeg2ts/ESQueue.cpp",
        "patchSetId": 1
      },
      "lineNbr": 58,
      "author": {
        "id": 1026966
      },
      "writtenOn": "2020-06-15T21:53:43Z",
      "side": 1,
      "message": "I cannot access my original CL, but IIRC. I checked the code history and the encrypted stream path was added for HLS use case, which is still in /system. I was told that there would be no mpeg2 ts extractor usage that uses encryption path.",
      "parentUuid": "ee87b5c8_454ca362",
      "range": {
        "startLine": 58,
        "startChar": 7,
        "endLine": 58,
        "endChar": 23
      },
      "revId": "cd58933b54bea100404c973b8c467287c3412bec",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}