{
  "comments": [
    {
      "key": {
        "uuid": "17c7fe66_14e26d16",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 14,
      "author": {
        "id": 1074628
      },
      "writtenOn": "2017-01-04T21:32:41Z",
      "side": 1,
      "message": "I had been looking at moving the headers that this library owned to it\u0027s subdirectory and exporting that, but that turned into more effort than is necessary to just convert this library.",
      "range": {
        "startLine": 13,
        "startChar": 0,
        "endLine": 14,
        "endChar": 54
      },
      "revId": "e29729522358bf1c3f72dff9c0d2fa81e48db931",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "97c76e81_0279b06d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 14,
      "author": {
        "id": 1121403
      },
      "writtenOn": "2017-01-05T01:50:02Z",
      "side": 1,
      "message": "Yup, and no dependencies are currently using these exported headers. Therefore removing them at this stage is an easy and fail-safe solution.",
      "parentUuid": "17c7fe66_14e26d16",
      "range": {
        "startLine": 13,
        "startChar": 0,
        "endLine": 14,
        "endChar": 54
      },
      "revId": "e29729522358bf1c3f72dff9c0d2fa81e48db931",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "17c7fe66_34f769dd",
        "filename": "media/libaudioclient/Android.bp",
        "patchSetId": 3
      },
      "lineNbr": 37,
      "author": {
        "id": 1074628
      },
      "writtenOn": "2017-01-04T21:32:41Z",
      "side": 1,
      "message": "None of these are actually used (no compiler errors, and the same binary is produced)",
      "range": {
        "startLine": 35,
        "startChar": 0,
        "endLine": 37,
        "endChar": 45
      },
      "revId": "e29729522358bf1c3f72dff9c0d2fa81e48db931",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "97c76e81_4d035978",
        "filename": "media/libaudioclient/Android.bp",
        "patchSetId": 3
      },
      "lineNbr": 37,
      "author": {
        "id": 1121403
      },
      "writtenOn": "2017-01-05T01:50:02Z",
      "side": 1,
      "message": "This is actually true. I kept them here because I wanted to respect the original Android.mk file. The included headers for this library are rooted at \"frameworks/av/include\", \"frameworks/base/include\", etc. Any idea on why Soong can find these headers even though we do not explicitly include them?",
      "parentUuid": "17c7fe66_34f769dd",
      "range": {
        "startLine": 35,
        "startChar": 0,
        "endLine": 37,
        "endChar": 45
      },
      "revId": "e29729522358bf1c3f72dff9c0d2fa81e48db931",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "97c76e81_ad2435d6",
        "filename": "media/libaudioclient/Android.bp",
        "patchSetId": 3
      },
      "lineNbr": 37,
      "author": {
        "id": 1074628
      },
      "writtenOn": "2017-01-05T01:59:23Z",
      "side": 1,
      "message": "We\u0027ve got a set of default include directory for platform libraries that contain frameworks/native/include and frameworks/av/include (and others: https://android.googlesource.com/platform/build/soong/+/98dbb3bc2dda9633222fc66786cc122d79b4b33d/cc/config/global.go#100 )\n\nThe plan to clean that up is to move the headers out of those global directories into the libraries that actually own them one by one, fixing any users as we go. Much of the work so far has been focused on removing the warnings that -isystem has been hiding, frameworks/av is the last one in that list. Some of the VNDK requirements have been speeding this up, since we should only be exposing stable headers to code in the vendor partition, which means we can\u0027t use the default global paths.\n\nIt\u0027s better to drop unnecessary include_dirs entries, since leaving them just makes it harder to clean up those giant directories later, and new cases really ought to be using exported includes anyways instead of hardcoded paths.",
      "parentUuid": "97c76e81_4d035978",
      "range": {
        "startLine": 35,
        "startChar": 0,
        "endLine": 37,
        "endChar": 45
      },
      "revId": "e29729522358bf1c3f72dff9c0d2fa81e48db931",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "97c76e81_4d6eb9ab",
        "filename": "media/libaudioclient/Android.bp",
        "patchSetId": 3
      },
      "lineNbr": 37,
      "author": {
        "id": 1121403
      },
      "writtenOn": "2017-01-05T02:24:29Z",
      "side": 1,
      "message": "I see. Thanks for the through explanation. To help with your clean up effort, should I manually add \"frameworks/av/include\", \"frameworks/native/include\", \"system/core/include\", \"system/media/audio/include\" into the list of include_dirs?",
      "parentUuid": "97c76e81_ad2435d6",
      "range": {
        "startLine": 35,
        "startChar": 0,
        "endLine": 37,
        "endChar": 45
      },
      "revId": "e29729522358bf1c3f72dff9c0d2fa81e48db931",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "97c76e81_ed26ad7f",
        "filename": "media/libaudioclient/Android.bp",
        "patchSetId": 3
      },
      "lineNbr": 37,
      "author": {
        "id": 1074628
      },
      "writtenOn": "2017-01-05T02:28:57Z",
      "side": 1,
      "message": "No, that wouldn\u0027t help. Those will cease to exist at some point, but the headers will be assigned to a library, and that library will export it\u0027s headers automatically to its users. So we\u0027d prefer not to change the users if we don\u0027t need to.",
      "parentUuid": "97c76e81_4d6eb9ab",
      "range": {
        "startLine": 35,
        "startChar": 0,
        "endLine": 37,
        "endChar": 45
      },
      "revId": "e29729522358bf1c3f72dff9c0d2fa81e48db931",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}