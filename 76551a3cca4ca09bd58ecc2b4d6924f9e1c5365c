{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "27d7a683_b1d0232b",
        "filename": "media/codec2/core/include/C2Config.h",
        "patchSetId": 8
      },
      "lineNbr": 593,
      "author": {
        "id": 1021605
      },
      "writtenOn": "2023-02-15T21:22:34Z",
      "side": 1,
      "message": "Ideally this file is submitted separately, so it can be merged separately when mirroring just the core C2 API.\n\nCan you include the link/description of the definitions of these profiles? Do we need to do something similar to the MediaCodecConstant support other future combinations, such as 1_3?",
      "range": {
        "startLine": 593,
        "startChar": 0,
        "endLine": 593,
        "endChar": 19
      },
      "revId": "76551a3cca4ca09bd58ecc2b4d6924f9e1c5365c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b3457510_3d9ba1f5",
        "filename": "media/codec2/core/include/C2Config.h",
        "patchSetId": 8
      },
      "lineNbr": 593,
      "author": {
        "id": 1604644
      },
      "writtenOn": "2023-02-16T03:14:53Z",
      "side": 1,
      "message": "(1) Do I need to create a separate submit for this file only? In that way, we need to wait for that submit is approved then this submit should be based on that updated version since the modification in Codec2Mapper.cpp has dependency on these new enum definitions.\n\n(2) I added the similar comments as MediaCodecConstants.h, which incudes link and description.\n\nActually, in Dolby AC-4, it uses bitstream_version, presentation_version, mdcompat to do the similar things as profile/level.\n\nmdcompat itself has the very similar meaning as level so that this mapping is easy.\n\nAfter long internal discussion, we have internal alignment to use bitstream_version and presentation_version to map to profile.\n\nbitstream_version/presentation_version/mdcompat can be got from codec string easily. In this way, it can help to to do track/codec selection in Android ecosystem.\n\nBut in the AC-4 specification, there is no direct profile/level concepts.\n\n(3) Yes, if there is new bitstream_version/presentation_version defined in AC-4 spec, we need to update code here for future combinations.",
      "parentUuid": "27d7a683_b1d0232b",
      "range": {
        "startLine": 593,
        "startChar": 0,
        "endLine": 593,
        "endChar": 19
      },
      "revId": "76551a3cca4ca09bd58ecc2b4d6924f9e1c5365c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8950ee53_204584d5",
        "filename": "media/codec2/core/include/C2Config.h",
        "patchSetId": 8
      },
      "lineNbr": 593,
      "author": {
        "id": 1021605
      },
      "writtenOn": "2023-02-22T21:08:13Z",
      "side": 1,
      "message": "(1) yes, please create a separate CL for just the core/* files. you can add the other CLs on top.\n\n(2) please add comments linking to where AC4 bitstream_version/presentation_version/mdcompat is specified.\n\nThen describe how AC4 profiles are using bistream_version/presentation_version (and maybe why?).\n\nSimilarly describe that AC4 mdcompat has very similar meaning to level.\n\n(3) the question is whether we need to plan for a new profile in between these values, e.g. 1_3. It is fine if it is not, but we would like profiles values to be properly ordered, and since profile is derived from a pair of ints, there is a chance that 1_3 will become greater than 2_2.\n\nSince I am not familiar with AC4 bitstream/presentation versions, I am not sure if a new presentation version can be added to bitstream version 0 or 1.",
      "parentUuid": "b3457510_3d9ba1f5",
      "range": {
        "startLine": 593,
        "startChar": 0,
        "endLine": 593,
        "endChar": 19
      },
      "revId": "76551a3cca4ca09bd58ecc2b4d6924f9e1c5365c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "48c64687_cbc25b28",
        "filename": "media/codec2/core/include/C2Config.h",
        "patchSetId": 8
      },
      "lineNbr": 593,
      "author": {
        "id": 1604644
      },
      "writtenOn": "2023-02-23T09:55:23Z",
      "side": 1,
      "message": "(1) OK, I\u0027ll submit a separate CL.\n(2) OK.\n(3) Understood. For current AC-4 product-level encoder, bitstream_version is fixed to 2. bitstream_version \u003d 0 support has already been removed. bitstream_version \u003d 1 is never used in real product. As far as bitstream_version \u003d 2,\n  -- 02.01 for channel-based, channel-based immersive, and object-based audio\n  -- 02.02 for Immersive Stereo content\n\nSo I think current order is safe since there is no new 00.xx, 01.xx added in future. \n\nI agree that we must be very careful if there is a new bitstream_version \u003d 3 is defined in future since there could be a 02.03 is added after that. But there is no any plan to define them inside Dolby by now.\n\nI\u0027m double confirming with Dolby AC-4 architect (AC-4 codec owner) about above points.",
      "parentUuid": "8950ee53_204584d5",
      "range": {
        "startLine": 593,
        "startChar": 0,
        "endLine": 593,
        "endChar": 19
      },
      "revId": "76551a3cca4ca09bd58ecc2b4d6924f9e1c5365c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0d3c8c26_93632857",
        "filename": "media/libstagefright/include/media/stagefright/MediaCodecConstants.h",
        "patchSetId": 8
      },
      "lineNbr": 569,
      "author": {
        "id": 1021605
      },
      "writtenOn": "2023-02-15T21:22:34Z",
      "side": 1,
      "message": "note that this file is targeted to be autogenerated from the .java files, so this comment should also be in the .java file.",
      "range": {
        "startLine": 565,
        "startChar": 0,
        "endLine": 569,
        "endChar": 25
      },
      "revId": "76551a3cca4ca09bd58ecc2b4d6924f9e1c5365c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "990b0532_0a23e6f4",
        "filename": "media/libstagefright/include/media/stagefright/MediaCodecConstants.h",
        "patchSetId": 8
      },
      "lineNbr": 569,
      "author": {
        "id": 1604644
      },
      "writtenOn": "2023-02-16T03:14:53Z",
      "side": 1,
      "message": "Yes, we also add this part of comment in https://android-review.googlesource.com/c/platform/frameworks/base/+/2389989/4/media/java/android/media/MediaCodecInfo.java#4185",
      "parentUuid": "0d3c8c26_93632857",
      "range": {
        "startLine": 565,
        "startChar": 0,
        "endLine": 569,
        "endChar": 25
      },
      "revId": "76551a3cca4ca09bd58ecc2b4d6924f9e1c5365c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "684159cf_1aee2fd1",
        "filename": "media/libstagefright/include/media/stagefright/MediaCodecConstants.h",
        "patchSetId": 8
      },
      "lineNbr": 591,
      "author": {
        "id": 1021605
      },
      "writtenOn": "2023-02-15T21:22:34Z",
      "side": 1,
      "message": "we normally do not include the format name (ac4) in the profile strings as they are assumed to be format specific.",
      "range": {
        "startLine": 587,
        "startChar": 35,
        "endLine": 591,
        "endChar": 47
      },
      "revId": "76551a3cca4ca09bd58ecc2b4d6924f9e1c5365c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "de9c8dfe_f5a09adc",
        "filename": "media/libstagefright/include/media/stagefright/MediaCodecConstants.h",
        "patchSetId": 8
      },
      "lineNbr": 591,
      "author": {
        "id": 1604644
      },
      "writtenOn": "2023-02-16T03:14:53Z",
      "side": 1,
      "message": "OK, I\u0027ll update it. (The original thought is this output is only used for dump output purpose. And \"profile/level \u003d ac-4.02.01/03\" can be easily compared with codec string in manifest file.)",
      "parentUuid": "684159cf_1aee2fd1",
      "range": {
        "startLine": 587,
        "startChar": 35,
        "endLine": 591,
        "endChar": 47
      },
      "revId": "76551a3cca4ca09bd58ecc2b4d6924f9e1c5365c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2345e797_b0886f4f",
        "filename": "media/libstagefright/include/media/stagefright/MediaCodecConstants.h",
        "patchSetId": 8
      },
      "lineNbr": 596,
      "author": {
        "id": 1021605
      },
      "writtenOn": "2023-02-15T21:22:34Z",
      "side": 1,
      "message": "reading from line 565, it seems that this is really mdcompat. Does mdcompat act as a level? E.g. level quantifies the amount of resources required for decoding a bitstream.",
      "range": {
        "startLine": 596,
        "startChar": 18,
        "endLine": 596,
        "endChar": 27
      },
      "revId": "76551a3cca4ca09bd58ecc2b4d6924f9e1c5365c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e89e6bdb_7e720c43",
        "filename": "media/libstagefright/include/media/stagefright/MediaCodecConstants.h",
        "patchSetId": 8
      },
      "lineNbr": 596,
      "author": {
        "id": 1604644
      },
      "writtenOn": "2023-02-16T03:14:53Z",
      "side": 1,
      "message": "Yes, mdcompat indicates the decoder capability. For example, one decoder declares it supports \"mdcompat\u003d3\". That means, for channel-based audio, it supports up to 7.1.4 input; for object-based audio, it supports up to 17.1 objects input. For decoder which supports \"mdcompat\u003d4\", it can supports up to 20.1 objects input.\n\nInside Dolby, we usually say \"level\" instead of \"mdcompat\" since they are equivalent in AC-4 context. So, we usually say, an AC-4 level-3 decoder can\u0027t decode level-4 stream.",
      "parentUuid": "2345e797_b0886f4f",
      "range": {
        "startLine": 596,
        "startChar": 18,
        "endLine": 596,
        "endChar": 27
      },
      "revId": "76551a3cca4ca09bd58ecc2b4d6924f9e1c5365c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}