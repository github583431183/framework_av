{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "b391715f_9daf3083",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1604644
      },
      "writtenOn": "2024-03-12T08:53:00Z",
      "side": 1,
      "message": "The technical detail of this issue is in https://issuetracker.google.com/issues/329121650.\n\nI described the steps to reproduce this issue. Basically, AndroidX Media and AOSP have different handling on track duration. I think AndroidX Media\u0027s behavior is correct.",
      "revId": "bbae1197152dbbb80c1c855bde17fd5c8d812a4c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "72bfaaf6_b443725a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1643005
      },
      "writtenOn": "2024-03-22T12:33:58Z",
      "side": 1,
      "message": "Please can you add a corresponding test to the `MediaExtractorTest` CTS with a sample media file that reproduces the issue (i.e. a test that fails without this change, and passes with it): https://cs.android.com/android/platform/superproject/main/+/main:cts/tests/tests/media/extractor/src/android/media/extractor/cts/MediaExtractorTest.java\n\nYou will need to add the media to the `platform/media/cts` project in a change similar to this one: http://r.android.com/2457385\n\nThe files should end up here: https://android.googlesource.com/platform/media/cts/+/refs/heads/main/cts/tests/tests/media/extractor/CtsMediaExtractorTestCases/\n\nAnd then bump the version used by the tests, similar to this change (you can do this in the same commit you add the test itself): http://r.android.com/c/2457869\n\n@hmahendrakar@google.com should be able to help if you have questions about getting the media submitted.",
      "revId": "bbae1197152dbbb80c1c855bde17fd5c8d812a4c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c6349cc4_38d576a2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1604644
      },
      "writtenOn": "2024-03-26T05:34:49Z",
      "side": 1,
      "message": "Sure. But I\u0027m working a Media3 transformer contribution these days. I\u0027ll be back to check this one after that.",
      "parentUuid": "72bfaaf6_b443725a",
      "revId": "bbae1197152dbbb80c1c855bde17fd5c8d812a4c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e1254de8_763e6436",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1604644
      },
      "writtenOn": "2024-05-13T09:19:47Z",
      "side": 1,
      "message": "@Ian Baker, sorry for late response. I start to do it as you suggested from today.\nTest file has been uploaded(https://android-review.googlesource.com/c/platform/media/cts/+/3084046). I\u0027ll do other things later.",
      "parentUuid": "c6349cc4_38d576a2",
      "revId": "bbae1197152dbbb80c1c855bde17fd5c8d812a4c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "85f3f937_97f457cf",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1604644
      },
      "writtenOn": "2024-05-14T09:33:56Z",
      "side": 1,
      "message": "I updated the code and CTS test case as you suggested. But I have not verified it on my side. In case there is other urgent thing to block my contribution, I submitted the code for your review at first. After my verification is done, I\u0027ll let you know.\n\nOne more question: do I need to update this file (https://cs.android.com/android/platform/superproject/main/+/main:test/mts/tools/mts-tradefed/res/config/mts-smoke-tests-list.xml;l\u003d106?q\u003dtestGetAudioPresentations\u0026ss\u003dandroid%2Fplatform%2Fsuperproject%2Fmain) to add one line for my new test case?",
      "parentUuid": "e1254de8_763e6436",
      "revId": "bbae1197152dbbb80c1c855bde17fd5c8d812a4c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "230cc680_f5109317",
        "filename": "media/module/extractors/mp4/MPEG4Extractor.cpp",
        "patchSetId": 2
      },
      "lineNbr": 3865,
      "author": {
        "id": 1643005
      },
      "writtenOn": "2024-03-22T12:33:58Z",
      "side": 1,
      "message": "we already read the whole `tkhd` box into `buffer` below on L3903, and then we parse values like `id` from this byte array on L3912 and L3917.\n\nI think it would be more consistent with the rest of this method to read duration in the same existing `if/else` block below.",
      "range": {
        "startLine": 3865,
        "startChar": 0,
        "endLine": 3865,
        "endChar": 32
      },
      "revId": "bbae1197152dbbb80c1c855bde17fd5c8d812a4c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ec2b0e21_0de05182",
        "filename": "media/module/extractors/mp4/MPEG4Extractor.cpp",
        "patchSetId": 2
      },
      "lineNbr": 3865,
      "author": {
        "id": 1604644
      },
      "writtenOn": "2024-05-14T06:13:12Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "230cc680_f5109317",
      "range": {
        "startLine": 3865,
        "startChar": 0,
        "endLine": 3865,
        "endChar": 32
      },
      "revId": "bbae1197152dbbb80c1c855bde17fd5c8d812a4c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}