{
  "comments": [
    {
      "key": {
        "uuid": "3630af54_d3d82a3b",
        "filename": "media/libwatchdog/Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 37,
      "author": {
        "id": 1108919
      },
      "writtenOn": "2020-06-18T21:50:39Z",
      "side": 1,
      "message": "I don\u0027t like this approach.\n\nI\u0027d rather see this using something like  -DUSING_GLIBC\n\nand then the code gets modified to look something like:\n\n#ifdef USING_GLIBC\n    sev.whatever_notify \u003d SIGEV_THREAD_ID;\n    sev.whatever_the_fields_are \u003d base::GetThreadId();\n    sev.sigev_signo \u003d SIGABRT;\n#else\n    sev.sigev_notify \u003d SIGEV_THREAD_ID;\n    sev.sigev_notify_thread_id \u003d base::GetThreadId();\n    sev.sigev_signo \u003d SIGABRT;\n#endif",
      "range": {
        "startLine": 37,
        "startChar": 16,
        "endLine": 37,
        "endChar": 58
      },
      "revId": "3ca31261cf4dca73951c77ee86a180cf35807b2e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4822771b_69ab7595",
        "filename": "media/libwatchdog/Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 37,
      "author": {
        "id": 1047003
      },
      "writtenOn": "2020-06-18T22:31:16Z",
      "side": 1,
      "message": "This macro approach was taken as siginfo.h picked up in host builds doesn\u0027t define sigev_notify_thread_id, whereas the one in case of arm builds define these.\nIf changing source code is okay, then we can use _sigev_un._tid instead of sigev_notify_thread_id in Watchdog.cpp. That should work for all builds.",
      "parentUuid": "3630af54_d3d82a3b",
      "range": {
        "startLine": 37,
        "startChar": 16,
        "endLine": 37,
        "endChar": 58
      },
      "revId": "3ca31261cf4dca73951c77ee86a180cf35807b2e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f6c5ae3c_ad04b1c0",
        "filename": "media/libwatchdog/Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 37,
      "author": {
        "id": 1047003
      },
      "writtenOn": "2020-07-10T14:14:36Z",
      "side": 1,
      "message": "As discussed in other thread, added a comment with a todo.",
      "parentUuid": "4822771b_69ab7595",
      "range": {
        "startLine": 37,
        "startChar": 16,
        "endLine": 37,
        "endChar": 58
      },
      "revId": "3ca31261cf4dca73951c77ee86a180cf35807b2e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}