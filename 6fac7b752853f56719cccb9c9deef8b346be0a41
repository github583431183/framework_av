{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "a2fdd9da_f7af5674",
        "filename": "media/libstagefright/writer_fuzzers/WriterFuzzerBase.cpp",
        "patchSetId": 1
      },
      "lineNbr": 197,
      "author": {
        "id": 1108919
      },
      "writtenOn": "2023-06-20T15:55:40Z",
      "side": 1,
      "message": "can we just use mCurrentTrack[trackIndex] !\u003d nullptr to\nachieve the same semantics as mTrackAdded[]?",
      "range": {
        "startLine": 194,
        "startChar": 4,
        "endLine": 197,
        "endChar": 5
      },
      "revId": "6fac7b752853f56719cccb9c9deef8b346be0a41",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5c4ec4d8_54ada638",
        "filename": "media/libstagefright/writer_fuzzers/WriterFuzzerBase.cpp",
        "patchSetId": 1
      },
      "lineNbr": 197,
      "author": {
        "id": 1890836
      },
      "writtenOn": "2023-06-23T13:40:18Z",
      "side": 1,
      "message": "OggWriter::addSource: https://cs.android.com/android/platform/superproject/+/refs/heads/master:frameworks/av/media/libstagefright/OggWriter.cpp;l\u003d81?gsn\u003daddSource\n\nComparing mCurrentTrack[#] against nullptr would not be feasible for this case. OggWriter::addSource has several other checks in place other than a NULL check. So, the control flow can return from any of these conditions even if mCurrentTrack[#] !\u003d nullptr",
      "parentUuid": "a2fdd9da_f7af5674",
      "range": {
        "startLine": 194,
        "startChar": 4,
        "endLine": 197,
        "endChar": 5
      },
      "revId": "6fac7b752853f56719cccb9c9deef8b346be0a41",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d630f78c_f6b42a9e",
        "filename": "media/libstagefright/writer_fuzzers/WriterFuzzerBase.cpp",
        "patchSetId": 1
      },
      "lineNbr": 197,
      "author": {
        "id": 1108919
      },
      "writtenOn": "2023-06-23T15:26:13Z",
      "side": 1,
      "message": "there are numerous ways to handle that addSource behavior. It\u0027s only an apparne tproblem because of how the code here has been structured.\n\nThe cleanest one: Do not set mCurrentTrack[] until after we learn that the addSource() is successful. use a local variable to hold the \u0027new MediaAdapter\u0027 until you know you want to keep it.\n\nyou could stay with the current structure and clear the mCurrentTrack[] entry if the addSource() fails.",
      "parentUuid": "5c4ec4d8_54ada638",
      "range": {
        "startLine": 194,
        "startChar": 4,
        "endLine": 197,
        "endChar": 5
      },
      "revId": "6fac7b752853f56719cccb9c9deef8b346be0a41",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "687d4e6c_08ecfa26",
        "filename": "media/libstagefright/writer_fuzzers/include/WriterFuzzerBase.h",
        "patchSetId": 1
      },
      "lineNbr": 207,
      "author": {
        "id": 1108919
      },
      "writtenOn": "2023-06-20T15:55:40Z",
      "side": 1,
      "message": "false, not 0.\n\nBut I\u0027d like to think that we can use comparing mCurrentTrack[#] against nullptr \nto get the same results.   if !\u003d nullptr, then we have added the track, if \u003d\u003d nullptr, then there was no track.",
      "range": {
        "startLine": 207,
        "startChar": 40,
        "endLine": 207,
        "endChar": 41
      },
      "revId": "6fac7b752853f56719cccb9c9deef8b346be0a41",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "90bf8ef6_10214d79",
        "filename": "media/libstagefright/writer_fuzzers/include/WriterFuzzerBase.h",
        "patchSetId": 1
      },
      "lineNbr": 207,
      "author": {
        "id": 1890836
      },
      "writtenOn": "2023-06-23T13:40:18Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "687d4e6c_08ecfa26",
      "range": {
        "startLine": 207,
        "startChar": 40,
        "endLine": 207,
        "endChar": 41
      },
      "revId": "6fac7b752853f56719cccb9c9deef8b346be0a41",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}