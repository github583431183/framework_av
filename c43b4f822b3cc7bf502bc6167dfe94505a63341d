{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "2e3baa6e_f60c4644",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1060750
      },
      "writtenOn": "2020-12-11T20:29:12Z",
      "side": 1,
      "message": "Thanks for doing this. I am very interested in the results of this fuzz test.\n",
      "revId": "c43b4f822b3cc7bf502bc6167dfe94505a63341d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "96c59654_210faf5b",
        "filename": "services/oboeservice/fuzzer/README.md",
        "patchSetId": 1
      },
      "lineNbr": 57,
      "author": {
        "id": 1060750
      },
      "writtenOn": "2020-12-11T20:29:12Z",
      "side": 1,
      "message": "Where?\nDoes the sync perform the \"push\"?",
      "range": {
        "startLine": 57,
        "startChar": 9,
        "endLine": 57,
        "endChar": 18
      },
      "revId": "c43b4f822b3cc7bf502bc6167dfe94505a63341d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "09e7f0eb_dac23f1d",
        "filename": "services/oboeservice/fuzzer/README.md",
        "patchSetId": 1
      },
      "lineNbr": 57,
      "author": {
        "id": 1794335
      },
      "writtenOn": "2020-12-16T09:04:59Z",
      "side": 1,
      "message": "The directory must be created on the device inside /data/fuzz/arm64/oboservice_fuzzer.\nADB sync pushes all the files from the build folders into the device\u0027s /data/ folder.",
      "parentUuid": "96c59654_210faf5b",
      "range": {
        "startLine": 57,
        "startChar": 9,
        "endLine": 57,
        "endChar": 18
      },
      "revId": "c43b4f822b3cc7bf502bc6167dfe94505a63341d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a4af502d_31abc4e9",
        "filename": "services/oboeservice/fuzzer/README.md",
        "patchSetId": 1
      },
      "lineNbr": 57,
      "author": {
        "id": 1060750
      },
      "writtenOn": "2020-12-17T01:45:37Z",
      "side": 1,
      "message": "Thanks! If the user is expected to do that then the information should be in the README.\n\nIs \"Create a directory\" a command or just an explanation of what is about to happen? It is not clear.\n\nMaybe say \"The following commands will create a directory called CORPUS_DIR and ...\"",
      "parentUuid": "09e7f0eb_dac23f1d",
      "range": {
        "startLine": 57,
        "startChar": 9,
        "endLine": 57,
        "endChar": 18
      },
      "revId": "c43b4f822b3cc7bf502bc6167dfe94505a63341d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ead066dc_f28e3a4c",
        "filename": "services/oboeservice/fuzzer/README.md",
        "patchSetId": 1
      },
      "lineNbr": 57,
      "author": {
        "id": 1047003
      },
      "writtenOn": "2020-12-17T19:39:51Z",
      "side": 1,
      "message": "Phil,\nSorry for the confusion on this.\nThis directory can be anywhere on the device and not necessarily inside /data/fuzz/arm64/oboservice_fuzzer as mentioned above.\n\nThe CORPUS_DIR is generally needed in case of decoder fuzzers to assist libfuzzer in covering larger part of the code in fewer iterations. To do this one can create a directory and copy some valid media files in that directory and pass that as an argument.\n\nOnce there is a directory that has few files, this directory needs to be pushed to device and that path wherever it is pushed is to passed to *_fuzzer binary.\n\nIf a directory is not provided or there is no file in the directory, fuzzer will generate something from scratch and iterate to improve the coverage.\n\nHowever, in oboeservice_fuzzer case, I am not sure if there is a real need for corpus as this fuzzer binary doesn\u0027t really work on an input data file like a decoder fuzzer binary. In this case input data is used to just generate parameters listed above and that doesn\u0027t require seed corpus to be effective.\n\nMufaddal,\nLet us remove CORPUS_DIR from the documentation as we can\u0027t really have an input that acts as a seed.",
      "parentUuid": "a4af502d_31abc4e9",
      "range": {
        "startLine": 57,
        "startChar": 9,
        "endLine": 57,
        "endChar": 18
      },
      "revId": "c43b4f822b3cc7bf502bc6167dfe94505a63341d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fbd5101e_3718bde3",
        "filename": "services/oboeservice/fuzzer/oboeservice_fuzzer.cpp",
        "patchSetId": 1
      },
      "lineNbr": 126,
      "author": {
        "id": 1060750
      },
      "writtenOn": "2020-12-11T20:29:12Z",
      "side": 1,
      "message": "Will this generate an error and cause the test to fail. It probably should.  Maybe count the number of times the service dies and assert(deathCount\u003d\u003d0) at the end.",
      "range": {
        "startLine": 126,
        "startChar": 21,
        "endLine": 126,
        "endChar": 31
      },
      "revId": "c43b4f822b3cc7bf502bc6167dfe94505a63341d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8ac70b62_e7cda231",
        "filename": "services/oboeservice/fuzzer/oboeservice_fuzzer.cpp",
        "patchSetId": 1
      },
      "lineNbr": 126,
      "author": {
        "id": 1794335
      },
      "writtenOn": "2020-12-16T09:04:59Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "fbd5101e_3718bde3",
      "range": {
        "startLine": 126,
        "startChar": 21,
        "endLine": 126,
        "endChar": 31
      },
      "revId": "c43b4f822b3cc7bf502bc6167dfe94505a63341d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "963fe6f4_e1d77fa3",
        "filename": "services/oboeservice/fuzzer/oboeservice_fuzzer.cpp",
        "patchSetId": 1
      },
      "lineNbr": 209,
      "author": {
        "id": 1060750
      },
      "writtenOn": "2020-12-11T20:29:12Z",
      "side": 1,
      "message": "This will return ERROR_UNIMPLEMENTED for INPUT streams.",
      "range": {
        "startLine": 209,
        "startChar": 0,
        "endLine": 209,
        "endChar": 15
      },
      "revId": "c43b4f822b3cc7bf502bc6167dfe94505a63341d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1e41c25d_c2610e20",
        "filename": "services/oboeservice/fuzzer/oboeservice_fuzzer.cpp",
        "patchSetId": 1
      },
      "lineNbr": 209,
      "author": {
        "id": 1794335
      },
      "writtenOn": "2020-12-16T09:04:59Z",
      "side": 1,
      "message": "Currently return values from API calls are not respected in the fuzzer to ensure that it runs for all inputs.",
      "parentUuid": "963fe6f4_e1d77fa3",
      "range": {
        "startLine": 209,
        "startChar": 0,
        "endLine": 209,
        "endChar": 15
      },
      "revId": "c43b4f822b3cc7bf502bc6167dfe94505a63341d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "54a16ad4_86e6cace",
        "filename": "services/oboeservice/fuzzer/oboeservice_fuzzer.cpp",
        "patchSetId": 1
      },
      "lineNbr": 209,
      "author": {
        "id": 1060750
      },
      "writtenOn": "2020-12-17T01:45:37Z",
      "side": 1,
      "message": "OK, as long as it does not cause the test to fail for an intended behavior.",
      "parentUuid": "1e41c25d_c2610e20",
      "range": {
        "startLine": 209,
        "startChar": 0,
        "endLine": 209,
        "endChar": 15
      },
      "revId": "c43b4f822b3cc7bf502bc6167dfe94505a63341d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f3210053_9a152f92",
        "filename": "services/oboeservice/fuzzer/oboeservice_fuzzer.cpp",
        "patchSetId": 1
      },
      "lineNbr": 284,
      "author": {
        "id": 1060750
      },
      "writtenOn": "2020-12-11T20:29:12Z",
      "side": 1,
      "message": "Does this fuzz test also test a few illegal values like -5 or 998877?",
      "range": {
        "startLine": 284,
        "startChar": 31,
        "endLine": 284,
        "endChar": 43
      },
      "revId": "c43b4f822b3cc7bf502bc6167dfe94505a63341d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0d61aa8f_d97f878b",
        "filename": "services/oboeservice/fuzzer/oboeservice_fuzzer.cpp",
        "patchSetId": 1
      },
      "lineNbr": 284,
      "author": {
        "id": 1794335
      },
      "writtenOn": "2020-12-16T09:04:59Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f3210053_9a152f92",
      "range": {
        "startLine": 284,
        "startChar": 31,
        "endLine": 284,
        "endChar": 43
      },
      "revId": "c43b4f822b3cc7bf502bc6167dfe94505a63341d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f7874fd6_22d86d64",
        "filename": "services/oboeservice/fuzzer/oboeservice_fuzzer.cpp",
        "patchSetId": 1
      },
      "lineNbr": 325,
      "author": {
        "id": 1060750
      },
      "writtenOn": "2020-12-11T20:29:12Z",
      "side": 1,
      "message": "Note: you may encounter race conditions if you reopen a stream quickly after closing.",
      "range": {
        "startLine": 325,
        "startChar": 13,
        "endLine": 325,
        "endChar": 24
      },
      "revId": "c43b4f822b3cc7bf502bc6167dfe94505a63341d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5ccf4316_80cb622e",
        "filename": "services/oboeservice/fuzzer/oboeservice_fuzzer.cpp",
        "patchSetId": 1
      },
      "lineNbr": 325,
      "author": {
        "id": 1794335
      },
      "writtenOn": "2020-12-16T09:04:59Z",
      "side": 1,
      "message": "If there is a race condition, we expect fuzzer binary to flag that as as issue. Can you please let us know if this call sequence is not correct? In that case we will update the fuzzer plugin accordingly.",
      "parentUuid": "f7874fd6_22d86d64",
      "range": {
        "startLine": 325,
        "startChar": 13,
        "endLine": 325,
        "endChar": 24
      },
      "revId": "c43b4f822b3cc7bf502bc6167dfe94505a63341d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "305fa777_4d3469e7",
        "filename": "services/oboeservice/fuzzer/oboeservice_fuzzer.cpp",
        "patchSetId": 1
      },
      "lineNbr": 325,
      "author": {
        "id": 1060750
      },
      "writtenOn": "2020-12-17T01:45:37Z",
      "side": 1,
      "message": "Good. The race is a bug. I am just saying that we have had ongoing problems with race conditions when we close and open streams very quickly. So don\u0027t be surprised if you see a problem. Please report if you do.",
      "parentUuid": "5ccf4316_80cb622e",
      "range": {
        "startLine": 325,
        "startChar": 13,
        "endLine": 325,
        "endChar": 24
      },
      "revId": "c43b4f822b3cc7bf502bc6167dfe94505a63341d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}