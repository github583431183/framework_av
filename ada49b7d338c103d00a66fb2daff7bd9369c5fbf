{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "abd497c2_7009a760",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1983885
      },
      "writtenOn": "2023-03-22T09:34:55Z",
      "side": 1,
      "message": "Hi Ray, thanks for your further help about the possible issue with the code changes. Anyway I would need some time to understand the test case and its background before I could make a confident and correct change. Of course it will be better if we can have some suggestions from the author of this test case.",
      "revId": "ada49b7d338c103d00a66fb2daff7bd9369c5fbf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "436b6411_88ca2563",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1983885
      },
      "writtenOn": "2023-03-28T10:40:07Z",
      "side": 1,
      "message": "Hi Ray, do you have some time to continue the discussion here?\n\nThe test file VtsHalMediaC2V1_0TargetAudioDecTest.cpp has been checked for the history. The first version of it was in 2019-06-03 by Pawin so we would say it\u0027s not yet some acient code. But anyway it looks like the author Pawin is no longer available (at least when adding the reviewer). I also tried to run the test case with atest command but it says some device is needed (which but I don\u0027t have, and acloud also failed for some reason).\n\nThen I studied the implementation of the test cases with this test file. I looks like we are testing different decoding scenarios. Then with this test case DecodeTestEmptyBuffersInserted we are trying to insert some empty input frames and also some empty CSD frames into the regular frames read from the data file. After all the frames are buffered, the decode function is called and then we check if the received/decoded frame number is the same with the buffered frame number (regular+empty+empty CSD).\n\nSo from the test scenario I think we would need to buffer all the frames and try to decode them. So the flag codecConfig should be useless here and we only need to remove it (and the related calculation).\n\nIf the understanding above is okay we would upload a new version to review. Thanks.",
      "revId": "ada49b7d338c103d00a66fb2daff7bd9369c5fbf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a62f0024_9301aa00",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1108919
      },
      "writtenOn": "2023-04-01T23:09:45Z",
      "side": 1,
      "message": "break the CL into pieces.\nthe VtsHalMedia... tests need further discussion, especially since it seems that you haven\u0027t been able to execute those tests (at least it seems that way from your comment here).\n\nbut it seems that the other changes are all simple enough to take\n\nso a simpler CL that has the obviously correct pieces would be something we can take into the tree.  then those aren\u0027t held up by not having convinced ourselves that we\u0027re making those vts tests better.",
      "parentUuid": "436b6411_88ca2563",
      "revId": "ada49b7d338c103d00a66fb2daff7bd9369c5fbf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6cb50a18_497f63e8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1983885
      },
      "writtenOn": "2023-04-03T07:11:26Z",
      "side": 1,
      "message": "Hi Ray. Thanks for the suggestion. It\u0027s a good idea to break the patch into pieces. We will soon upload the obviously correct part.",
      "parentUuid": "a62f0024_9301aa00",
      "revId": "ada49b7d338c103d00a66fb2daff7bd9369c5fbf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8e5daec1_2e9adf23",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1983885
      },
      "writtenOn": "2023-04-10T04:34:29Z",
      "side": 1,
      "message": "Hi Ray, to follow the previous suggestion, we are breaking the patch into pieces and have submited 2 new patches as part of them.\n\nDo you have some time to take a look at the new patches (as below)? Thanks a lot.\n\nhttps://android-review.googlesource.com/c/platform/frameworks/av/+/2519776\nhttps://android-review.googlesource.com/c/platform/frameworks/av/+/2519777",
      "parentUuid": "6cb50a18_497f63e8",
      "revId": "ada49b7d338c103d00a66fb2daff7bd9369c5fbf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "429f0454_c4f7cefc",
        "filename": "media/codec2/hidl/1.0/vts/functional/audio/VtsHalMediaC2V1_0TargetAudioDecTest.cpp",
        "patchSetId": 5
      },
      "lineNbr": 709,
      "author": {
        "id": 1108919
      },
      "writtenOn": "2023-03-21T19:27:51Z",
      "side": 1,
      "message": "false, not 0 -- since it\u0027s a bool",
      "range": {
        "startLine": 709,
        "startChar": 94,
        "endLine": 709,
        "endChar": 97
      },
      "revId": "ada49b7d338c103d00a66fb2daff7bd9369c5fbf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "504427ed_2f5516fc",
        "filename": "media/codec2/hidl/1.0/vts/functional/audio/VtsHalMediaC2V1_0TargetAudioDecTest.cpp",
        "patchSetId": 5
      },
      "lineNbr": 709,
      "author": {
        "id": 1983885
      },
      "writtenOn": "2023-03-29T09:01:21Z",
      "side": 1,
      "message": "Good suggestion. It should be \"false\".",
      "parentUuid": "429f0454_c4f7cefc",
      "range": {
        "startLine": 709,
        "startChar": 94,
        "endLine": 709,
        "endChar": 97
      },
      "revId": "ada49b7d338c103d00a66fb2daff7bd9369c5fbf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "134aa41e_c908b838",
        "filename": "media/codec2/hidl/1.0/vts/functional/audio/VtsHalMediaC2V1_0TargetAudioDecTest.cpp",
        "patchSetId": 5
      },
      "lineNbr": 711,
      "author": {
        "id": 1108919
      },
      "writtenOn": "2023-03-21T19:27:51Z",
      "side": 1,
      "message": "feels off, if i\u0027m tracking, we don\u0027t push a frame that was marked config\nin the input streeam; we\u0027re only pushing the CSD config frames that we \nartifically insert every 20th frame?\n\nI don\u0027t know that this is wrong; but we need input from whoever wrote this code\nto know just what the intent was.",
      "range": {
        "startLine": 711,
        "startChar": 7,
        "endLine": 711,
        "endChar": 27
      },
      "revId": "ada49b7d338c103d00a66fb2daff7bd9369c5fbf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "264d51e2_acc0fcc9",
        "filename": "media/codec2/hidl/1.0/vts/functional/audio/VtsHalMediaC2V1_0TargetAudioDecTest.cpp",
        "patchSetId": 5
      },
      "lineNbr": 711,
      "author": {
        "id": 2000678
      },
      "writtenOn": "2023-04-01T23:58:11Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "134aa41e_c908b838",
      "range": {
        "startLine": 711,
        "startChar": 7,
        "endLine": 711,
        "endChar": 27
      },
      "revId": "ada49b7d338c103d00a66fb2daff7bd9369c5fbf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d5e781e8_0041b4d9",
        "filename": "media/codec2/hidl/1.0/vts/functional/video/VtsHalMediaC2V1_0TargetVideoDecTest.cpp",
        "patchSetId": 5
      },
      "lineNbr": 963,
      "author": {
        "id": 1108919
      },
      "writtenOn": "2023-03-21T19:27:51Z",
      "side": 1,
      "message": "false, not 0. since it\u0027s a bool.",
      "range": {
        "startLine": 963,
        "startChar": 92,
        "endLine": 963,
        "endChar": 97
      },
      "revId": "ada49b7d338c103d00a66fb2daff7bd9369c5fbf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8f69a03f_6f0eaaf6",
        "filename": "media/codec2/hidl/1.0/vts/functional/video/VtsHalMediaC2V1_0TargetVideoDecTest.cpp",
        "patchSetId": 5
      },
      "lineNbr": 963,
      "author": {
        "id": 1983885
      },
      "writtenOn": "2023-03-29T09:01:21Z",
      "side": 1,
      "message": "Good suggestion. It should be \"false\".",
      "parentUuid": "d5e781e8_0041b4d9",
      "range": {
        "startLine": 963,
        "startChar": 92,
        "endLine": 963,
        "endChar": 97
      },
      "revId": "ada49b7d338c103d00a66fb2daff7bd9369c5fbf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6cfa134f_8a35f850",
        "filename": "media/codec2/hidl/1.0/vts/functional/video/VtsHalMediaC2V1_0TargetVideoDecTest.cpp",
        "patchSetId": 5
      },
      "lineNbr": 965,
      "author": {
        "id": 1108919
      },
      "writtenOn": "2023-03-21T19:27:51Z",
      "side": 1,
      "message": "same questions as I pointed out in AudioDecTest -- \n\nI think the effect of this is \"drop all csd/config info from the stream\" and\nreplace it with our empty-config-every-20.  I don\u0027t know if this is the desired\nbehavior.",
      "range": {
        "startLine": 965,
        "startChar": 13,
        "endLine": 965,
        "endChar": 24
      },
      "revId": "ada49b7d338c103d00a66fb2daff7bd9369c5fbf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a57b6451_9e1cd2bf",
        "filename": "media/codec2/hidl/1.0/vts/functional/video/VtsHalMediaC2V1_0TargetVideoDecTest.cpp",
        "patchSetId": 5
      },
      "lineNbr": 965,
      "author": {
        "id": 2000678
      },
      "writtenOn": "2023-04-01T23:58:11Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6cfa134f_8a35f850",
      "range": {
        "startLine": 965,
        "startChar": 13,
        "endLine": 965,
        "endChar": 24
      },
      "revId": "ada49b7d338c103d00a66fb2daff7bd9369c5fbf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}