{
  "comments": [
    {
      "key": {
        "uuid": "bf915724_f8a2114b",
        "filename": "media/libstagefright/mpeg2ts/ATSParser.cpp",
        "patchSetId": 1
      },
      "lineNbr": 925,
      "author": {
        "id": 1001525
      },
      "writtenOn": "2018-11-27T16:29:29Z",
      "side": 1,
      "message": "unless I\u0027m missing something, it doesn\u0027t seem necessary to create a temporary ABuffer and then copy into it from the existing ABitReader, just to make a new ABitReader. You can just create the new ABitReader from the existing data, can\u0027t you? Also, this should probably check that there are actually 6 bytes available in \u0027br\u0027.\n\nIn other words, replace the above with:\n\nif (payload_unit_start_indicator \u0026\u0026 br-\u003enumBitsLeft() \u003e\u003d 48) {\n     ABitReader tmp(br-\u003edata(), 6);\n     ...",
      "range": {
        "startLine": 923,
        "startChar": 0,
        "endLine": 925,
        "endChar": 45
      },
      "revId": "ee2998a8dd8955738ac7ead1eb000edb148283f7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8e0b5bd9_8d6a1cf3",
        "filename": "media/libstagefright/mpeg2ts/ATSParser.cpp",
        "patchSetId": 1
      },
      "lineNbr": 928,
      "author": {
        "id": 1039918
      },
      "writtenOn": "2018-11-28T02:58:40Z",
      "side": 1,
      "message": "This doesn\u0027t work for scrambled streams, the PES header is scrambled and you can\u0027t read from it.\n\nThe optimization needs to be disabled if it\u0027s scrambled.",
      "range": {
        "startLine": 926,
        "startChar": 8,
        "endLine": 928,
        "endChar": 0
      },
      "revId": "ee2998a8dd8955738ac7ead1eb000edb148283f7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2c56eeae_01ae7f08",
        "filename": "media/libstagefright/mpeg2ts/ATSParser.cpp",
        "patchSetId": 1
      },
      "lineNbr": 979,
      "author": {
        "id": 1001525
      },
      "writtenOn": "2018-11-27T16:29:29Z",
      "side": 1,
      "message": "this could just be: return flush(event);",
      "range": {
        "startLine": 975,
        "startChar": 0,
        "endLine": 979,
        "endChar": 9
      },
      "revId": "ee2998a8dd8955738ac7ead1eb000edb148283f7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}