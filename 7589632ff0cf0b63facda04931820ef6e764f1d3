{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "fc1dc4ab_377ee9a5",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 14,
      "author": {
        "id": 1108919
      },
      "writtenOn": "2024-02-28T21:31:38Z",
      "side": 1,
      "message": "is this better done as an include similar to crash_dump and coverage?",
      "range": {
        "startLine": 14,
        "startChar": 25,
        "endLine": 14,
        "endChar": 55
      },
      "revId": "7589632ff0cf0b63facda04931820ef6e764f1d3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4640d93c_05f94542",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 14,
      "author": {
        "id": 1019050
      },
      "writtenOn": "2024-02-28T22:13:09Z",
      "side": 1,
      "message": "Honestly, this would be better done as a single file generating all of the different versions of the policy files so a lot of this wouldn\u0027t be needed.\n\nHowever, it is pretty painful to add any new policy files, so I would say leaving it like this is the least bad and we probably won\u0027t need to change this for years.",
      "parentUuid": "fc1dc4ab_377ee9a5",
      "range": {
        "startLine": 14,
        "startChar": 25,
        "endLine": 14,
        "endChar": 55
      },
      "revId": "7589632ff0cf0b63facda04931820ef6e764f1d3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "551ccc2b_4ef901be",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 22,
      "author": {
        "id": 1108919
      },
      "writtenOn": "2024-02-28T21:29:02Z",
      "side": 1,
      "message": "was this tested solely on current system builds?\n\nI ask because these files live in mainline.\nThis CL is paired with changes in system/core/debuggerd, which will not go to the older system builds (R/S/T). I don\u0027t remember whether that a failure there means \"nonfunctional jail\" or \"service refuses to start\".\n\nthe good news is that the code that chooses which policy file to load is also in the mainline module, so we have the ability to\ndo something morally equivalent to:\n\nSetUpMiniJail( isBeforeV() ? \"preV.policy\" : mediaswcodec.policy\");",
      "range": {
        "startLine": 22,
        "startChar": 0,
        "endLine": 22,
        "endChar": 59
      },
      "revId": "7589632ff0cf0b63facda04931820ef6e764f1d3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b9a64759_b6a6164c",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 22,
      "author": {
        "id": 1019050
      },
      "writtenOn": "2024-02-28T22:10:25Z",
      "side": 1,
      "message": "I did test on current systems, but as you mention, the files are all put in the apex. I don\u0027t think that should ever be a problem since other policy files already do this inclusion.\n\ndebuggerd only ever adds system calls, never removes. So as long as we continue to do that, I thinks this should be fine even going into the future.\n\nIf we do think this is going to be a problem, we would need to add some kind of versioned policy file, probably based on Android API level. I don\u0027t think that\u0027s necessary yet.",
      "parentUuid": "551ccc2b_4ef901be",
      "range": {
        "startLine": 22,
        "startChar": 0,
        "endLine": 22,
        "endChar": 59
      },
      "revId": "7589632ff0cf0b63facda04931820ef6e764f1d3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6ee96254_53f8df73",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1108919
      },
      "writtenOn": "2024-02-28T21:29:02Z",
      "side": 1,
      "message": "it feels like this is ready for the \"whatever.policy.def\" to generated whatever.policy.{arm/arm64/x86/etc} that is used in syste,/core/code_coverage\nand debuggerd\n\nI\u0027m not saying that this CL needs to do that; but it feels like that\u0027s the next step in code hygiene for this set of files.",
      "revId": "7589632ff0cf0b63facda04931820ef6e764f1d3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}