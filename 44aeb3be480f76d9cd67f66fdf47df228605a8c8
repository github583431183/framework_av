{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "60ec3bd9_783fa033",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1963880
      },
      "writtenOn": "2023-07-18T01:55:34Z",
      "side": 1,
      "message": "There is no intention to change index\u003d\u003d0 here. For example, if deviceTypes is empty, then the index may be the speaker\u0027s index. Assuming that outputDesc-\u003edevices().types() is not a speaker but a proxy, then the speaker\u0027s index and will be sent to proxy, causing problems.",
      "revId": "44aeb3be480f76d9cd67f66fdf47df228605a8c8",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "08dbb7da_6ef43712",
        "filename": "services/audiopolicy/managerdefault/AudioPolicyManager.cpp",
        "patchSetId": 1
      },
      "lineNbr": 7383,
      "author": {
        "id": 1042638
      },
      "writtenOn": "2023-07-17T20:30:06Z",
      "side": 1,
      "message": "I don\u0027t have a deep knowledge of this code, but from I see below, `index \u003d\u003d 0` means \"muted.\" Thus, we probably don\u0027t want to change the index when it was `0`.",
      "range": {
        "startLine": 7383,
        "startChar": 0,
        "endLine": 7383,
        "endChar": 51
      },
      "revId": "44aeb3be480f76d9cd67f66fdf47df228605a8c8",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7cd82fa8_7f01b140",
        "filename": "services/audiopolicy/managerdefault/AudioPolicyManager.cpp",
        "patchSetId": 1
      },
      "lineNbr": 7383,
      "author": {
        "id": 1963880
      },
      "writtenOn": "2023-07-18T01:55:34Z",
      "side": 1,
      "message": "There is no intention to change index\u003d\u003d0 here. For example, if deviceTypes is empty, then the index may be the speaker\u0027s index. Assuming that outputDesc-\u003edevices().types() is not a speaker but a proxy, then the speaker\u0027s index and will be sent to proxy, causing problems.",
      "parentUuid": "08dbb7da_6ef43712",
      "range": {
        "startLine": 7383,
        "startChar": 0,
        "endLine": 7383,
        "endChar": 51
      },
      "revId": "44aeb3be480f76d9cd67f66fdf47df228605a8c8",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a416731b_15b9ea3d",
        "filename": "services/audiopolicy/managerdefault/AudioPolicyManager.cpp",
        "patchSetId": 1
      },
      "lineNbr": 7383,
      "author": {
        "id": 1042638
      },
      "writtenOn": "2023-07-18T01:59:04Z",
      "side": 1,
      "message": "\u003e There is no intention to change index\u003d\u003d0 here.\n\nSuppose the caller has passed to `checkAndSetVolume` empty `deviceTypes` and `index \u003d 0`. In this case, the line 7383 will overwrite `index`, possibly to non-zero. That\u0027s what I\u0027m talking about here.",
      "parentUuid": "7cd82fa8_7f01b140",
      "range": {
        "startLine": 7383,
        "startChar": 0,
        "endLine": 7383,
        "endChar": 51
      },
      "revId": "44aeb3be480f76d9cd67f66fdf47df228605a8c8",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7d6bbfc9_5740638d",
        "filename": "services/audiopolicy/managerdefault/AudioPolicyManager.cpp",
        "patchSetId": 1
      },
      "lineNbr": 7383,
      "author": {
        "id": 1963880
      },
      "writtenOn": "2023-07-18T02:22:48Z",
      "side": 1,
      "message": "This should not matter, if \"the caller has passed to checkAndSetVolume empty deviceTypes and index \u003d 0\", then it can only mean that the speaker is muted, if outputDesc-\u003edevices().types() is muted, outputDesc-\u003edevices() The index of .types() should also be 0, and vice versa.",
      "parentUuid": "a416731b_15b9ea3d",
      "range": {
        "startLine": 7383,
        "startChar": 0,
        "endLine": 7383,
        "endChar": 51
      },
      "revId": "44aeb3be480f76d9cd67f66fdf47df228605a8c8",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e37ec6d9_073b65bc",
        "filename": "services/audiopolicy/managerdefault/AudioPolicyManager.cpp",
        "patchSetId": 1
      },
      "lineNbr": 7383,
      "author": {
        "id": 1963880
      },
      "writtenOn": "2023-07-18T02:24:36Z",
      "side": 1,
      "message": "This should not matter, if \"the caller has passed to checkAndSetVolume empty deviceTypes and index \u003d 0\", then it can only mean that the speaker is muted, if outputDesc-\u003edevices().types() is muted, the index of outputDesc-\u003edevices().types() should also be 0, and vice versa.",
      "parentUuid": "7d6bbfc9_5740638d",
      "range": {
        "startLine": 7383,
        "startChar": 0,
        "endLine": 7383,
        "endChar": 51
      },
      "revId": "44aeb3be480f76d9cd67f66fdf47df228605a8c8",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7b30e344_e15b4dca",
        "filename": "services/audiopolicy/managerdefault/AudioPolicyManager.cpp",
        "patchSetId": 1
      },
      "lineNbr": 7383,
      "author": {
        "id": 1042638
      },
      "writtenOn": "2023-07-18T16:37:42Z",
      "side": 1,
      "message": "The comment for `AudioOutputDescriptor::mDevices` says that these are the devices where the output is routed to (https://cs.android.com/android/platform/superproject/+/master:frameworks/av/services/audiopolicy/common/managerdefinitions/include/AudioOutputDescriptor.h;l\u003d314;drc\u003d72af8011fe38f00df58579b476187f8e9fb35a58). Output can be muted, but still stay routed to the speaker. In this case, as I understand, the index will not be 0.\n\nHowever, I\u0027m not deeply familiar with the data model used for volume curves management. I would defer to Eric or Jean-Michel for the final judgement.",
      "parentUuid": "e37ec6d9_073b65bc",
      "range": {
        "startLine": 7383,
        "startChar": 0,
        "endLine": 7383,
        "endChar": 51
      },
      "revId": "44aeb3be480f76d9cd67f66fdf47df228605a8c8",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "baef6bfa_9126884b",
        "filename": "services/audiopolicy/managerdefault/AudioPolicyManager.cpp",
        "patchSetId": 1
      },
      "lineNbr": 7383,
      "author": {
        "id": 1963880
      },
      "writtenOn": "2023-07-19T04:45:21Z",
      "side": 1,
      "message": "Regarding the situation that you mentioned that the outputDesc is muted, it is judged at the entry of checkandsetvolume. In line 7756, if it isMuted, it returns directly.",
      "parentUuid": "7b30e344_e15b4dca",
      "range": {
        "startLine": 7383,
        "startChar": 0,
        "endLine": 7383,
        "endChar": 51
      },
      "revId": "44aeb3be480f76d9cd67f66fdf47df228605a8c8",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3eb5ee9f_62c51117",
        "filename": "services/audiopolicy/managerdefault/AudioPolicyManager.cpp",
        "patchSetId": 1
      },
      "lineNbr": 7383,
      "author": {
        "id": 1963880
      },
      "writtenOn": "2023-07-19T04:47:26Z",
      "side": 1,
      "message": "In line 7356, if it isMuted, it returns directly.",
      "parentUuid": "baef6bfa_9126884b",
      "range": {
        "startLine": 7383,
        "startChar": 0,
        "endLine": 7383,
        "endChar": 51
      },
      "revId": "44aeb3be480f76d9cd67f66fdf47df228605a8c8",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f9692708_ff0a57c1",
        "filename": "services/audiopolicy/managerdefault/AudioPolicyManager.cpp",
        "patchSetId": 1
      },
      "lineNbr": 7383,
      "author": {
        "id": 1042638
      },
      "writtenOn": "2023-07-19T15:26:09Z",
      "side": 1,
      "message": "OK, makes sense. Sorry for being picky, I just wanted to ensure that the change does not introduce any unpredictable behavior.",
      "parentUuid": "3eb5ee9f_62c51117",
      "range": {
        "startLine": 7383,
        "startChar": 0,
        "endLine": 7383,
        "endChar": 51
      },
      "revId": "44aeb3be480f76d9cd67f66fdf47df228605a8c8",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "aabb8f0b_2f909a79",
        "filename": "services/audiopolicy/managerdefault/AudioPolicyManager.cpp",
        "patchSetId": 1
      },
      "lineNbr": 7384,
      "author": {
        "id": 1042638
      },
      "writtenOn": "2023-07-19T15:26:58Z",
      "side": 1,
      "message": "Please fix this WARNING reported by Check Contents: Lines longer than 100 characters should be wrapped to improve readability; see https://source.android.com/setup/contribute/code-style#limit-line-length for more details. See go/ayeaye-long-lines for ayeaye-specific info.\n\nAnalyzer Description: Validates that changes do not have prohibited expressions in them.\nOwner: ayeaye-team@google.com\n\nLines longer than 100 characters should be wrapped to improve readability; see https://source.android.com/setup/contribute/code-style#limit-line-length for more details. See go/ayeaye-long-lines for ayeaye-specific info.",
      "range": {
        "startLine": 7384,
        "startChar": 0,
        "endLine": 7384,
        "endChar": 142
      },
      "revId": "44aeb3be480f76d9cd67f66fdf47df228605a8c8",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}