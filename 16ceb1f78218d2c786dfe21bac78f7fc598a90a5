{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "a53eb379_6002cfe7",
        "filename": "media/codec2/components/base/SimpleC2Component.cpp",
        "patchSetId": 1
      },
      "lineNbr": 44,
      "author": {
        "id": 1018606
      },
      "writtenOn": "2022-04-14T20:59:21Z",
      "side": 1,
      "message": "should we check the platform version here? (for mainline)",
      "revId": "16ceb1f78218d2c786dfe21bac78f7fc598a90a5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e3670dc3_6a4a6fbc",
        "filename": "media/codec2/components/base/SimpleC2Component.cpp",
        "patchSetId": 1
      },
      "lineNbr": 44,
      "author": {
        "id": 1108919
      },
      "writtenOn": "2022-04-14T23:03:27Z",
      "side": 1,
      "message": "it looks like it\u0027s been there since Q, so we should be ok.\n\nframeworks/native/libs/nativewindow/libnativewindo.map.txt\n AHardwareBuffer_isSupported; # introduced\u003d29\n \nframeworks/native/libs/nativewindow/include/android/hardware_buffer.h:int AHardwareBuffer_isSupported(const AHardwareBuffer_Desc* _Nonnull desc) __INTRODUCED_IN(29);",
      "parentUuid": "a53eb379_6002cfe7",
      "revId": "16ceb1f78218d2c786dfe21bac78f7fc598a90a5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0aa3fdf1_ac8ac426",
        "filename": "media/codec2/components/base/SimpleC2Component.cpp",
        "patchSetId": 1
      },
      "lineNbr": 44,
      "author": {
        "id": 1108919
      },
      "writtenOn": "2022-04-14T23:03:27Z",
      "side": 1,
      "message": "instead of uint32_t for the argument, I think android_pixel_format_t",
      "range": {
        "startLine": 44,
        "startChar": 31,
        "endLine": 44,
        "endChar": 39
      },
      "revId": "16ceb1f78218d2c786dfe21bac78f7fc598a90a5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "16e49d05_f87ab7dd",
        "filename": "media/codec2/components/base/SimpleC2Component.cpp",
        "patchSetId": 1
      },
      "lineNbr": 44,
      "author": {
        "id": 1047003
      },
      "writtenOn": "2022-04-14T23:18:40Z",
      "side": 1,
      "message": "There are three android_pixel_format_t, android_pixel_format_v1_1_t and android_pixel_format_v1_2_t.\nAnd format in AHardwareBuffer_Desc is uint32_t (enum named as AHardwareBuffer_Format).\n\nTo avoid any confusion, I used uint32_t as that is the type of AHardwareBuffer_Desc.format.",
      "parentUuid": "0aa3fdf1_ac8ac426",
      "range": {
        "startLine": 44,
        "startChar": 31,
        "endLine": 44,
        "endChar": 39
      },
      "revId": "16ceb1f78218d2c786dfe21bac78f7fc598a90a5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e60e06e9_bdb15d5a",
        "filename": "media/codec2/components/base/SimpleC2Component.cpp",
        "patchSetId": 1
      },
      "lineNbr": 44,
      "author": {
        "id": 1047003
      },
      "writtenOn": "2022-04-14T23:18:40Z",
      "side": 1,
      "message": "AHardwareBuffer_isSupported() is available since API 29.\nhttps://developer.android.com/ndk/reference/group/a-hardware-buffer#ahardwarebuffer_issupported\n\nIs it okay to not check version here?",
      "parentUuid": "a53eb379_6002cfe7",
      "revId": "16ceb1f78218d2c786dfe21bac78f7fc598a90a5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "244443ac_11af92b8",
        "filename": "media/codec2/components/base/SimpleC2Component.cpp",
        "patchSetId": 1
      },
      "lineNbr": 44,
      "author": {
        "id": 1108919
      },
      "writtenOn": "2022-04-15T14:16:17Z",
      "side": 1,
      "message": "sounds like AHardwareBuffer_Format is a better choice than what I had suggested.",
      "parentUuid": "16e49d05_f87ab7dd",
      "range": {
        "startLine": 44,
        "startChar": 31,
        "endLine": 44,
        "endChar": 39
      },
      "revId": "16ceb1f78218d2c786dfe21bac78f7fc598a90a5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fae21b65_312f8293",
        "filename": "media/codec2/components/base/SimpleC2Component.cpp",
        "patchSetId": 1
      },
      "lineNbr": 44,
      "author": {
        "id": 1047003
      },
      "writtenOn": "2022-04-15T14:25:17Z",
      "side": 1,
      "message": "Ray,\nIMHO, it should match the datatype of AHardwareBuffer_Desc.format to avoid any confusion.\nChanging this argument type to AHardwareBuffer_Format will convey that enums AHARDWAREBUFFER_FORMAT_* are expected, but enums that we pass to this are from android_pixel_format_* when we call this function.\nSince format is uint32_t, it is better left as uint32_t.",
      "parentUuid": "244443ac_11af92b8",
      "range": {
        "startLine": 44,
        "startChar": 31,
        "endLine": 44,
        "endChar": 39
      },
      "revId": "16ceb1f78218d2c786dfe21bac78f7fc598a90a5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f8cb0260_7426ced4",
        "filename": "media/codec2/components/base/SimpleC2Component.cpp",
        "patchSetId": 1
      },
      "lineNbr": 44,
      "author": {
        "id": 1108919
      },
      "writtenOn": "2022-04-15T16:30:45Z",
      "side": 1,
      "message": "AHardwareBuffer_Format is the appropriate type.\n\nAHardwareBuffer is intended as a stable interface and part of that is defining the legal values for that parameter. That the enum there does not yet include all of the values defined in those android_pixel_format_* definitions is a shortcoming on the AHardwareBuffer side. the AHardwareBuffer_Format enum should be updated each time an android_pixel_format_* extension gets added.",
      "parentUuid": "fae21b65_312f8293",
      "range": {
        "startLine": 44,
        "startChar": 31,
        "endLine": 44,
        "endChar": 39
      },
      "revId": "16ceb1f78218d2c786dfe21bac78f7fc598a90a5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "949bf016_1b106b5e",
        "filename": "media/codec2/components/base/SimpleC2Component.cpp",
        "patchSetId": 1
      },
      "lineNbr": 44,
      "author": {
        "id": 1047003
      },
      "writtenOn": "2022-04-15T22:32:41Z",
      "side": 1,
      "message": "Updated to use AHardwareBuffer_Format as suggested.",
      "parentUuid": "f8cb0260_7426ced4",
      "range": {
        "startLine": 44,
        "startChar": 31,
        "endLine": 44,
        "endChar": 39
      },
      "revId": "16ceb1f78218d2c786dfe21bac78f7fc598a90a5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}